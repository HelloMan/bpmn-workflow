<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:tns="http://www.jboss.org/drools" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd" id="Definitions_1" expressionLanguage="http://www.mvel.org/2.0" targetNamespace="http://www.jboss.org/drools" typeLanguage="http://www.java.com/javaTypes">
    <bpmn2:itemDefinition id="ItemDefinition_2" itemKind="Physical" structureRef="javax.xml.xpath.XPathFactory"/>
    <bpmn2:itemDefinition id="ItemDefinition_3" itemKind="Physical" structureRef="javax.xml.xpath.XPath"/>
    <bpmn2:itemDefinition id="ItemDefinition_4" itemKind="Physical" structureRef="java.util.UUID"/>
    <bpmn2:itemDefinition id="ItemDefinition_6" itemKind="Physical" structureRef="String"/>
    <bpmn2:itemDefinition id="ItemDefinition_7" itemKind="Physical" structureRef="org.w3c.dom.Node"/>
    <bpmn2:itemDefinition id="ItemDefinition_8" itemKind="Physical" structureRef="Boolean"/>
    <bpmn2:itemDefinition id="ItemDefinition_10" itemKind="Physical" structureRef="java.util.List"/>
    <bpmn2:itemDefinition id="ItemDefinition_5" itemKind="Physical" structureRef="Integer"/>
    <bpmn2:process id="com.lombardrisk.reform.dfa.DoddFrankTradeProcess" tns:version="1" tns:packageName="com.lombardrisk.reform.dfa" name="Dodd Frank Trade Process">
        <bpmn2:extensionElements>
            <tns:import name="javax.xml.xpath.XPathFactory"/>
            <tns:import name="javax.xml.xpath.XPath"/>
            <tns:import name="java.util.UUID"/>
            <tns:import name="java.util.List"/>
            <tns:import name="org.w3c.dom.Node"/>
            <tns:import name="java.io.StringWriter"/>
            <tns:import name="javax.xml.transform.OutputKeys"/>
            <tns:import name="javax.xml.transform.Transformer"/>
            <tns:import name="javax.xml.transform.TransformerException"/>
            <tns:import name="javax.xml.transform.TransformerFactory"/>
            <tns:import name="javax.xml.transform.dom.DOMSource"/>
            <tns:import name="javax.xml.transform.stream.StreamResult"/>
            <tns:import name="com.lombardrisk.reform.util.XpathUtils"/>
            <tns:import name="java.util.List"/>
            <tns:import name="java.util.ArrayList"/>
            <tns:import name="java.text.SimpleDateFormat"/>
            <tns:import name="java.util.TimeZone"/>
            <tns:import name="java.util.Date"/>
            <tns:import name="com.lombardrisk.reform.configuration.assemblers.GroovyScriptRunner"/>
            <tns:global identifier="fpmlVersion" type="String"/>
            <tns:global identifier="groovyScriptRunner" type="GroovyScriptRunner"/>
        </bpmn2:extensionElements>
        <bpmn2:property id="event" itemSubjectRef="ItemDefinition_7"/>
        <bpmn2:property id="principalName" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="counterPartyName" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="principalData" itemSubjectRef="ItemDefinition_7"/>
        <bpmn2:property id="USI" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="USI_InMessage" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="OKForCheckUSI" itemSubjectRef="ItemDefinition_8"/>
        <bpmn2:property id="reportingPartyData" itemSubjectRef="ItemDefinition_7"/>
        <bpmn2:property id="reportingParty" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="messageId" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="counterPartyTradeId" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="principalTradeId" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="productType" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="reportedTradeList" itemSubjectRef="ItemDefinition_10"/>
        <bpmn2:property id="reportedPurposeList" itemSubjectRef="ItemDefinition_10"/>
        <bpmn2:property id="reportingPurpose" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="financialTransactionList" itemSubjectRef="ItemDefinition_10"/>
        <bpmn2:property id="productId" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="linkId" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="isFxSwapTrade" itemSubjectRef="ItemDefinition_8"/>
        <bpmn2:property id="reportedFxSwapNearList" itemSubjectRef="ItemDefinition_10"/>
        <bpmn2:property id="reportedFxSwapFarList" itemSubjectRef="ItemDefinition_10"/>
        <bpmn2:property id="fxSwapNearLegXml" itemSubjectRef="ItemDefinition_7"/>
        <bpmn2:property id="fxSwapFarLegXml" itemSubjectRef="ItemDefinition_7"/>
        <bpmn2:property id="issuerFxSwapFar_usi" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="issuerFxSwapNear_usi" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="tradeIdFxSwapFar_usi" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="tradeIdFxSwapNear_usi" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="issuer_usi" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="tradeId_usi" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="USI2" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="reportingPartyNotification" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="exceptionMessage" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="exceptionSource" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="exceptionCode" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="processInstanceId" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="tradeMessageId" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="sdrReportMessageId" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="obsoleteMessageId" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="upi1" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="upi2" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="legIndicator" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="usiLinkIdFlg" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="messageId1" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="messageId2" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="subProcessExecCount" itemSubjectRef="ItemDefinition_5"/>
        <bpmn2:property id="validateMessageResult" itemSubjectRef="ItemDefinition_10"/>
        <bpmn2:property id="eventTimestamp" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="reportingPurposeGiven" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="xsdFileURI" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="xsdFileName" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:property id="isCorrection" itemSubjectRef="ItemDefinition_8"/>
        <bpmn2:property id="sdrReport" itemSubjectRef="ItemDefinition_7"/>
        <bpmn2:property id="validateErrorMessage" itemSubjectRef="ItemDefinition_6"/>
        <bpmn2:startEvent id="StartEvent_1" name="Start">
            <bpmn2:outgoing>SequenceFlow_1</bpmn2:outgoing>
        </bpmn2:startEvent>
        <bpmn2:task id="Task_1" tns:taskName="XmlValidate" tns:displayName="XmlValidate" tns:icon="icons/Vimeo.png" name="Validate Trade">
            <bpmn2:extensionElements>
                <tns:onEntry-script tns:scriptFormat="http://www.java.com/java">
                    <tns:script>groovyScriptRunner.evaluate(kcontext, &quot;config.scripts.DoddFrankTradeProcess.validateOnEntry(kcontext)&quot;);</tns:script>
                </tns:onEntry-script>
            </bpmn2:extensionElements>
            <bpmn2:incoming>SequenceFlow_1</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_16</bpmn2:outgoing>
            <bpmn2:ioSpecification id="InputOutputSpecification_1">
                <bpmn2:dataInput id="DataInput_1" name="source"/>
                <bpmn2:dataInput id="DataInput_2" name="xsdFileName"/>
                <bpmn2:dataInput id="DataInput_3" name="baseURI"/>
                <bpmn2:dataInput id="DataInput_86" name="throwActivity"/>
                <bpmn2:dataOutput id="DataOutput_17" name="result"/>
        <bpmn2:dataOutput id="DataOutput_19" name="errMsg"/>
                <bpmn2:inputSet id="InputSet_1" name="Input Set 1">
                    <bpmn2:dataInputRefs>DataInput_1</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_2</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_3</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_86</bpmn2:dataInputRefs>
                </bpmn2:inputSet>
                <bpmn2:outputSet id="OutputSet_8">
                    <bpmn2:dataOutputRefs>DataOutput_17</bpmn2:dataOutputRefs>
          <bpmn2:dataOutputRefs>DataOutput_19</bpmn2:dataOutputRefs>
                </bpmn2:outputSet>
            </bpmn2:ioSpecification>
            <bpmn2:dataInputAssociation id="DataInputAssociation_1">
                <bpmn2:sourceRef>event</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_1</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_2">
                <bpmn2:targetRef>DataInput_2</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_1">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_1" language="http://www.java.com/java">StandardisedTransactionInterface.xsd</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_2">DataInput_2</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_3">
                <bpmn2:targetRef>DataInput_3</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_2">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_2" language="http://www.java.com/java">/current/reform-dfa-config/config/schemas</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_3">DataInput_3</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_86">
                <bpmn2:targetRef>DataInput_86</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment__86">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression__86_1">false</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression__86_2">DataInput_86</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataOutputAssociation id="_DataOutputAssociation_35">
                <bpmn2:sourceRef>DataOutput_17</bpmn2:sourceRef>
                <bpmn2:targetRef>validateMessageResult</bpmn2:targetRef>
            </bpmn2:dataOutputAssociation>
            <bpmn2:dataOutputAssociation id="_DataOutputAssociation_48">
                <bpmn2:sourceRef>DataOutput_19</bpmn2:sourceRef>
                <bpmn2:targetRef>validateErrorMessage</bpmn2:targetRef>
            </bpmn2:dataOutputAssociation>
        </bpmn2:task>
        <bpmn2:sequenceFlow id="SequenceFlow_1" tns:priority="1" name="" sourceRef="StartEvent_1" targetRef="Task_1"/>
        <bpmn2:sequenceFlow id="SequenceFlow_2" tns:priority="1" name="" sourceRef="ScriptTask_9" targetRef="ExclusiveGateway_26"/>
        <bpmn2:task id="Task_2" tns:taskName="CreateEntity" tns:displayName="CreateEntity" tns:icon="icons/Ember.png" name="Save Trade">
            <bpmn2:incoming>SequenceFlow_66</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_3</bpmn2:outgoing>
            <bpmn2:ioSpecification id="InputOutputSpecification_2">
                <bpmn2:dataInput id="DataInput_4" name="entityId"/>
                <bpmn2:dataInput id="DataInput_5" name="entityType"/>
                <bpmn2:dataInput id="DataInput_6" name="valueIn"/>
                <bpmn2:inputSet id="InputSet_2" name="Input Set 2">
                    <bpmn2:dataInputRefs>DataInput_4</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_5</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_6</bpmn2:dataInputRefs>
                </bpmn2:inputSet>
            </bpmn2:ioSpecification>
            <bpmn2:dataInputAssociation id="DataInputAssociation_4">
                <bpmn2:targetRef>DataInput_4</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_3">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_3" language="http://www.mvel.org/2.0">#{principalTradeId}</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_4">DataInput_4</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_5">
                <bpmn2:targetRef>DataInput_5</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_4">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_4" language="http://www.mvel.org/2.0">tradeData</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_5">DataInput_5</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_6">
                <bpmn2:sourceRef>event</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_6</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
        </bpmn2:task>
        <bpmn2:task id="Task_3" tns:taskName="SessionBeanInvoker" tns:displayName="SessionBeanInvoker" tns:icon="icons/Twitter.png" name="Get Principal Party">
            <bpmn2:incoming>SequenceFlow_56</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_4</bpmn2:outgoing>
            <bpmn2:ioSpecification id="InputOutputSpecification_3">
                <bpmn2:dataInput id="DataInput_8" name="jndiName"/>
                <bpmn2:dataInput id="DataInput_9" name="className"/>
                <bpmn2:dataInput id="DataInput_10" name="optionName"/>
                <bpmn2:dataInput id="DataInput_11" name="param"/>
                <bpmn2:dataOutput id="DataOutput_1" name="result"/>
                <bpmn2:inputSet id="InputSet_3" name="Input Set 3">
                    <bpmn2:dataInputRefs>DataInput_8</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_9</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_10</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_11</bpmn2:dataInputRefs>
                </bpmn2:inputSet>
                <bpmn2:outputSet id="OutputSet_1">
                    <bpmn2:dataOutputRefs>DataOutput_1</bpmn2:dataOutputRefs>
                </bpmn2:outputSet>
            </bpmn2:ioSpecification>
            <bpmn2:dataInputAssociation id="DataInputAssociation_8">
                <bpmn2:targetRef>DataInput_8</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_5">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_5">reform/PrincipalPartyConfigBean/local</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_6">DataInput_8</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_9">
                <bpmn2:targetRef>DataInput_9</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_6">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_6">com.lombardrisk.reform.configuration.PrincipalPartyConfigurationLocal</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_7">DataInput_9</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_10">
                <bpmn2:targetRef>DataInput_10</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_7">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_7">getPrincipalPartyNodeByName</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_8">DataInput_10</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_11">
                <bpmn2:targetRef>DataInput_11</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_8">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_8" language="http://www.mvel.org/2.0">#{principalName}</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_9">DataInput_11</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataOutputAssociation id="_DataOutputAssociation_2">
                <bpmn2:sourceRef>DataOutput_1</bpmn2:sourceRef>
                <bpmn2:targetRef>principalData</bpmn2:targetRef>
            </bpmn2:dataOutputAssociation>
        </bpmn2:task>
        <bpmn2:sequenceFlow id="SequenceFlow_3" tns:priority="1" name="" sourceRef="Task_2" targetRef="Task_4"/>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_1" name="Check DFAEligible" gatewayDirection="Diverging">
            <bpmn2:incoming>SequenceFlow_4</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_5</bpmn2:outgoing>
            <bpmn2:outgoing>SequenceFlow_17</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:sequenceFlow id="SequenceFlow_4" tns:priority="1" name="" sourceRef="Task_3" targetRef="ExclusiveGateway_1"/>
        <bpmn2:endEvent id="EndEvent_2" name="End(Not DFA Eligible)">
            <bpmn2:incoming>SequenceFlow_5</bpmn2:incoming>
        </bpmn2:endEvent>
        <bpmn2:sequenceFlow id="SequenceFlow_5" tns:priority="2" name="False" sourceRef="ExclusiveGateway_1" targetRef="EndEvent_2">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_10" language="http://www.jboss.org/drools/rule">eval(true)</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:endEvent id="EndEvent_3" name="End">
            <bpmn2:incoming>com.sequenceFlow</bpmn2:incoming>
        </bpmn2:endEvent>
        <bpmn2:callActivity id="CallActivity_3" name="Generate And Send SDR Report" calledElement="com.lombardrisk.reform.dfa.sub.GenerateAndSendReport">
            <bpmn2:extensionElements>
                <tns:onEntry-script tns:scriptFormat="http://www.java.com/java">
                    <tns:script>System.out.println(&quot;entering Generate And Send SDR Report&quot;);&#xD;
                    </tns:script>
                </tns:onEntry-script>
                <tns:onExit-script tns:scriptFormat="http://www.java.com/java">
                    <tns:script>groovyScriptRunner.evaluate(kcontext, &quot;config.scripts.DoddFrankTradeProcess.generateAndSendReportOnExit(kcontext)&quot;);</tns:script>
                </tns:onExit-script>
            </bpmn2:extensionElements>
            <bpmn2:incoming>SequenceFlow_15</bpmn2:incoming>
            <bpmn2:outgoing>com.lombardrisk.reform.dfa.sub.GenerateAndSendReport</bpmn2:outgoing>
            <bpmn2:ioSpecification id="InputOutputSpecification_9">
                <bpmn2:dataInput id="DataInput_7" name="ReportedPurposeList"/>
                <bpmn2:dataInput id="DataInput_15" name="reportingPartyData"/>
                <bpmn2:dataInput id="DataInput_16" name="principalTradeId"/>
                <bpmn2:dataInput id="DataInput_35" name="issuer_usi"/>
                <bpmn2:dataInput id="DataInput_36" name="tradeId_usi"/>
                <bpmn2:dataInput id="DataInput_58" name="event"/>
                <bpmn2:dataInput id="DataInput_77" name="subProcessExecCount"/>
                <bpmn2:dataInput id="DataInput_84" name="linkId"/>
                <bpmn2:dataInput id="DataInput_85" name="message1"/>
                <bpmn2:dataInput id="DataInput_12" name="eventTimestamp"/>
                <bpmn2:dataInput id="DataInput_13" name="ReportingPurpose_Given"/>
                <bpmn2:dataOutput id="DataOutput_3" name="reportingPurpose"/>
                <bpmn2:dataOutput id="DataOutput_10" name="messageId"/>
                <bpmn2:dataOutput id="DataOutput_14" name="message1"/>
                <bpmn2:dataOutput id="DataOutput_15" name="message2"/>
                <bpmn2:dataOutput id="DataOutput_16" name="linkId"/>
                <bpmn2:dataOutput id="DataOutput_18" name="isCorrection"/>
                <bpmn2:dataOutput id="DataOutput_20" name="sdrReport"/>
                <bpmn2:inputSet id="InputSet_9">
                    <bpmn2:dataInputRefs>DataInput_7</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_15</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_16</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_35</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_36</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_58</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_77</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_84</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_85</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_12</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_13</bpmn2:dataInputRefs>
                </bpmn2:inputSet>
                <bpmn2:outputSet id="OutputSet_4">
                    <bpmn2:dataOutputRefs>DataOutput_3</bpmn2:dataOutputRefs>
                    <bpmn2:dataOutputRefs>DataOutput_10</bpmn2:dataOutputRefs>
                    <bpmn2:dataOutputRefs>DataOutput_14</bpmn2:dataOutputRefs>
                    <bpmn2:dataOutputRefs>DataOutput_15</bpmn2:dataOutputRefs>
                    <bpmn2:dataOutputRefs>DataOutput_16</bpmn2:dataOutputRefs>
                    <bpmn2:dataOutputRefs>DataOutput_18</bpmn2:dataOutputRefs>
                    <bpmn2:dataOutputRefs>DataOutput_20</bpmn2:dataOutputRefs>
                </bpmn2:outputSet>
            </bpmn2:ioSpecification>
            <bpmn2:dataInputAssociation id="DataInputAssociation_7">
                <bpmn2:sourceRef>reportedPurposeList</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_7</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_15">
                <bpmn2:sourceRef>reportingPartyData</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_15</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_16">
                <bpmn2:sourceRef>principalTradeId</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_16</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_35">
                <bpmn2:sourceRef>issuer_usi</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_35</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_36">
                <bpmn2:sourceRef>tradeId_usi</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_36</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_58">
                <bpmn2:sourceRef>event</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_58</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_77">
                <bpmn2:sourceRef>subProcessExecCount</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_77</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_84">
                <bpmn2:sourceRef>linkId</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_84</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_85">
                <bpmn2:sourceRef>messageId1</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_85</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_12">
                <bpmn2:sourceRef>eventTimestamp</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_12</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_13">
                <bpmn2:sourceRef>reportingPurposeGiven</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_13</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataOutputAssociation id="_DataOutputAssociation_17">
                <bpmn2:sourceRef>DataOutput_3</bpmn2:sourceRef>
                <bpmn2:targetRef>reportingPurpose</bpmn2:targetRef>
            </bpmn2:dataOutputAssociation>
            <bpmn2:dataOutputAssociation id="_DataOutputAssociation_27">
                <bpmn2:sourceRef>DataOutput_10</bpmn2:sourceRef>
                <bpmn2:targetRef>sdrReportMessageId</bpmn2:targetRef>
            </bpmn2:dataOutputAssociation>
            <bpmn2:dataOutputAssociation id="_DataOutputAssociation_32">
                <bpmn2:sourceRef>DataOutput_14</bpmn2:sourceRef>
                <bpmn2:targetRef>messageId1</bpmn2:targetRef>
            </bpmn2:dataOutputAssociation>
            <bpmn2:dataOutputAssociation id="_DataOutputAssociation_33">
                <bpmn2:sourceRef>DataOutput_15</bpmn2:sourceRef>
                <bpmn2:targetRef>messageId2</bpmn2:targetRef>
            </bpmn2:dataOutputAssociation>
            <bpmn2:dataOutputAssociation id="_DataOutputAssociation_34">
                <bpmn2:sourceRef>DataOutput_16</bpmn2:sourceRef>
                <bpmn2:targetRef>linkId</bpmn2:targetRef>
            </bpmn2:dataOutputAssociation>
            <bpmn2:dataOutputAssociation id="_DataOutputAssociation_42">
                <bpmn2:sourceRef>DataOutput_18</bpmn2:sourceRef>
                <bpmn2:targetRef>isCorrection</bpmn2:targetRef>
            </bpmn2:dataOutputAssociation>
            <bpmn2:dataOutputAssociation id="_DataOutputAssociation_44">
                <bpmn2:sourceRef>DataOutput_20</bpmn2:sourceRef>
                <bpmn2:targetRef>sdrReport</bpmn2:targetRef>
            </bpmn2:dataOutputAssociation>
        </bpmn2:callActivity>
        <bpmn2:task id="Task_8" tns:taskName="ReadEntity" tns:displayName="ReadEntity" tns:icon="icons/Facebook.png" name="Retrieve Reports Already Been Sent">
            <bpmn2:extensionElements>
                <tns:onExit-script tns:scriptFormat="http://www.java.com/java">
                    <tns:script>groovyScriptRunner.evaluate(kcontext, &quot;config.scripts.DoddFrankTradeProcess.retrieveReportsAlreadyBeenSentOnExit(kcontext)&quot;);</tns:script>
                </tns:onExit-script>
            </bpmn2:extensionElements>
            <bpmn2:incoming>SequenceFlow_17</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_24</bpmn2:outgoing>
            <bpmn2:ioSpecification id="InputOutputSpecification_10">
                <bpmn2:dataInput id="DataInput_25" name="entityId"/>
                <bpmn2:dataInput id="DataInput_31" name="entityType"/>
                <bpmn2:dataOutput id="DataOutput_7" name="valueOutList"/>
                <bpmn2:dataOutput id="DataOutput_6" name="entityTypeOut"/>
                <bpmn2:inputSet id="InputSet_10" name="Input Set 10">
                    <bpmn2:dataInputRefs>DataInput_25</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_31</bpmn2:dataInputRefs>
                </bpmn2:inputSet>
                <bpmn2:outputSet id="OutputSet_5">
                    <bpmn2:dataOutputRefs>DataOutput_7</bpmn2:dataOutputRefs>
                    <bpmn2:dataOutputRefs>DataOutput_6</bpmn2:dataOutputRefs>
                </bpmn2:outputSet>
            </bpmn2:ioSpecification>
            <bpmn2:dataInputAssociation id="DataInputAssociation_25">
                <bpmn2:targetRef>DataInput_25</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_17">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_24" language="http://www.java.com/java">#{principalTradeId}</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_11">DataInput_25</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_31">
                <bpmn2:targetRef>DataInput_31</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_18">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_26" language="http://www.java.com/java">Snapshot,PET,RT,RT-PET,Confirm,PET-Confirm,RT-PET-Confirm</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_20">DataInput_31</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataOutputAssociation id="_DataOutputAssociation_9">
                <bpmn2:sourceRef>DataOutput_7</bpmn2:sourceRef>
                <bpmn2:targetRef>reportedTradeList</bpmn2:targetRef>
            </bpmn2:dataOutputAssociation>
            <bpmn2:dataOutputAssociation id="_DataOutputAssociation_10">
                <bpmn2:sourceRef>DataOutput_6</bpmn2:sourceRef>
                <bpmn2:targetRef>reportedPurposeList</bpmn2:targetRef>
            </bpmn2:dataOutputAssociation>
        </bpmn2:task>
        <bpmn2:sequenceFlow id="SequenceFlow_17" tns:priority="1" name="True" sourceRef="ExclusiveGateway_1" targetRef="Task_8">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_21" language="http://www.java.com/java">
                return groovyScriptRunner.evaluateResult(kcontext, &quot;config.scripts.DoddFrankTradeProcess.checkDFAEligible(kcontext)&quot;);</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_6" name="Has REFORM sent reports for this trade before?" gatewayDirection="Diverging">
            <bpmn2:incoming>SequenceFlow_45</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_23</bpmn2:outgoing>
            <bpmn2:outgoing>SequenceFlow_39</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:callActivity id="CallActivity_4" name="Determine Reporting Party" calledElement="com.lombardrisk.reform.dfa.sub.DetermineReportingParty">
            <bpmn2:extensionElements>
                <tns:onExit-script tns:scriptFormat="http://www.java.com/java">
                    <tns:script>groovyScriptRunner.evaluate(kcontext, &quot;config.scripts.DoddFrankTradeProcess.determineReportingPartyOnExit(kcontext)&quot;);</tns:script>
                </tns:onExit-script>
            </bpmn2:extensionElements>
            <bpmn2:incoming>SequenceFlow_23</bpmn2:incoming>
            <bpmn2:outgoing>com.lombardrisk.reform.dfa.sub.DetermineReportingParty</bpmn2:outgoing>
            <bpmn2:ioSpecification id="InputOutputSpecification_11">
                <bpmn2:dataInput id="DataInput_18" name="event"/>
                <bpmn2:dataInput id="DataInput_32" name="principalXml"/>
                <bpmn2:dataInput id="DataInput_33" name="counterPartyXml"/>
                <bpmn2:dataInput id="DataInput_92" name="isFxSwapTrade"/>
                <bpmn2:dataInput id="DataInput_93" name="internalId"/>
                <bpmn2:dataOutput id="DataOutput_8" name="reportingParty"/>
                <bpmn2:dataOutput id="DataOutput_11" name="reportingPartyNotification"/>
                <bpmn2:inputSet id="InputSet_11">
                    <bpmn2:dataInputRefs>DataInput_18</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_32</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_33</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_92</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_93</bpmn2:dataInputRefs>
                </bpmn2:inputSet>
                <bpmn2:outputSet id="OutputSet_6">
                    <bpmn2:dataOutputRefs>DataOutput_8</bpmn2:dataOutputRefs>
                    <bpmn2:dataOutputRefs>DataOutput_11</bpmn2:dataOutputRefs>
                </bpmn2:outputSet>
            </bpmn2:ioSpecification>
            <bpmn2:dataInputAssociation id="DataInputAssociation_18">
                <bpmn2:sourceRef>event</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_18</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_32">
                <bpmn2:sourceRef>principalData</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_32</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_33">
                <bpmn2:sourceRef>event</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_33</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_92">
                <bpmn2:sourceRef>isFxSwapTrade</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_92</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_93">
                <bpmn2:sourceRef>principalTradeId</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_93</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataOutputAssociation id="_DataOutputAssociation_15">
                <bpmn2:sourceRef>DataOutput_8</bpmn2:sourceRef>
                <bpmn2:targetRef>reportingParty</bpmn2:targetRef>
            </bpmn2:dataOutputAssociation>
            <bpmn2:dataOutputAssociation id="_DataOutputAssociation_29">
                <bpmn2:sourceRef>DataOutput_11</bpmn2:sourceRef>
                <bpmn2:targetRef>reportingPartyNotification</bpmn2:targetRef>
            </bpmn2:dataOutputAssociation>
        </bpmn2:callActivity>
        <bpmn2:sequenceFlow id="SequenceFlow_23" tns:priority="1" name="False" sourceRef="ExclusiveGateway_6" targetRef="CallActivity_4">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_28" language="http://www.java.com/java">return reportedPurposeList == null || reportedPurposeList.size() == 0;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:sequenceFlow id="SequenceFlow_24" tns:priority="1" name="" sourceRef="Task_8" targetRef="ExclusiveGateway_16"/>
        <bpmn2:sequenceFlow id="com.lombardrisk.reform.dfa.sub.DetermineReportingParty" tns:priority="1" name="" sourceRef="CallActivity_4" targetRef="ExclusiveGateway_5"/>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_5" name="Is Principal Reporting Party?" gatewayDirection="Diverging">
            <bpmn2:incoming>com.lombardrisk.reform.dfa.sub.DetermineReportingParty</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_26</bpmn2:outgoing>
            <bpmn2:outgoing>SequenceFlow_27</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:sequenceFlow id="SequenceFlow_26" tns:priority="2" name="False" sourceRef="ExclusiveGateway_5" targetRef="ExclusiveGateway_13">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_30" language="http://www.java.com/java">return true;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:scriptTask id="ScriptTask_2" name="Generate USI" scriptFormat="http://www.java.com/java">
            <bpmn2:incoming>SequenceFlow_10</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_31</bpmn2:outgoing>
            <bpmn2:script>groovyScriptRunner.evaluate(kcontext, &quot;config.scripts.DoddFrankTradeProcess.generateUSI(kcontext)&quot;);</bpmn2:script>
        </bpmn2:scriptTask>
        <bpmn2:sequenceFlow id="SequenceFlow_27" tns:priority="1" name="True" sourceRef="ExclusiveGateway_5" targetRef="ExclusiveGateway_7">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_31" language="http://www.java.com/java">return &quot;Principal&quot;.equals(reportingParty);</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_7" name="Has USI been provided?" gatewayDirection="Diverging">
            <bpmn2:incoming>SequenceFlow_27</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_28</bpmn2:outgoing>
            <bpmn2:outgoing>SequenceFlow_32</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:sequenceFlow id="SequenceFlow_28" tns:priority="2" name="False" sourceRef="ExclusiveGateway_7" targetRef="ExclusiveGateway_3">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_33" language="http://www.java.com/java">return true;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_8" name="USI confirmed" gatewayDirection="Converging">
            <bpmn2:incoming>SequenceFlow_38</bpmn2:incoming>
            <bpmn2:incoming>SequenceFlow_41</bpmn2:incoming>
            <bpmn2:incoming>SequenceFlow_8</bpmn2:incoming>
            <bpmn2:incoming>SequenceFlow_60</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_33</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:sequenceFlow id="SequenceFlow_31" tns:priority="1" name="" sourceRef="ScriptTask_2" targetRef="ExclusiveGateway_14"/>
        <bpmn2:sequenceFlow id="SequenceFlow_32" tns:priority="1" name="True" sourceRef="ExclusiveGateway_7" targetRef="ExclusiveGateway_14">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_32" language="http://www.java.com/java">
                return groovyScriptRunner.evaluateResult(kcontext, &quot;config.scripts.DoddFrankTradeProcess.hasUSIBeenProvided(kcontext)&quot;);
            </bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:sequenceFlow id="SequenceFlow_33" tns:priority="1" name="" sourceRef="ExclusiveGateway_8" targetRef="ExclusiveGateway_10"/>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_9" name="Is USI provided in trade message?" gatewayDirection="Diverging">
            <bpmn2:incoming>SequenceFlow_37</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_35</bpmn2:outgoing>
            <bpmn2:outgoing>SequenceFlow_41</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:sequenceFlow id="SequenceFlow_35" tns:priority="1" name="True, non-FX Swap " sourceRef="ExclusiveGateway_9" targetRef="ExclusiveGateway_20">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_35" language="http://www.java.com/java">
                return groovyScriptRunner.evaluateResult(kcontext, &quot;config.scripts.DoddFrankTradeProcess.isUSIProvidedInTradeMessage(kcontext)&quot;);
            </bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_10" name="Is the message a post event message?" gatewayDirection="Diverging">
            <bpmn2:incoming>SequenceFlow_33</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_21</bpmn2:outgoing>
            <bpmn2:outgoing>SequenceFlow_22</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:endEvent id="EndEvent_4" name="End(is a post event message)">
            <bpmn2:incoming>SequenceFlow_21</bpmn2:incoming>
        </bpmn2:endEvent>
        <bpmn2:sequenceFlow id="SequenceFlow_21" tns:priority="2" name="True" sourceRef="ExclusiveGateway_10" targetRef="EndEvent_4">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_37" language="http://www.java.com/java">return true;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:sequenceFlow id="SequenceFlow_22" tns:priority="1" name="Fasle" sourceRef="ExclusiveGateway_10" targetRef="ScriptTask_8">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_38" language="http://www.java.com/java">return true;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:scriptTask id="ScriptTask_4" name="Retrieve USI from existing reports" scriptFormat="http://www.java.com/java">
            <bpmn2:incoming>SequenceFlow_9</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_37</bpmn2:outgoing>
            <bpmn2:script>groovyScriptRunner.evaluate(kcontext, &quot;config.scripts.DoddFrankTradeProcess.retrieveUSIFromExistingReports(kcontext)&quot;);</bpmn2:script>
        </bpmn2:scriptTask>
        <bpmn2:sequenceFlow id="SequenceFlow_37" tns:priority="1" name="" sourceRef="ScriptTask_4" targetRef="ExclusiveGateway_9"/>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_12" name="USI consistent between existing and incoming message?" gatewayDirection="Diverging">
            <bpmn2:incoming>SequenceFlow_51</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_38</bpmn2:outgoing>
            <bpmn2:outgoing>SequenceFlow_18</bpmn2:outgoing>
            <bpmn2:outgoing>SequenceFlow_52</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:sequenceFlow id="SequenceFlow_38" tns:priority="2" name="True, non-FX Swap " sourceRef="ExclusiveGateway_12" targetRef="ExclusiveGateway_8">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_34" language="http://www.java.com/java">return !isFxSwapTrade;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:sequenceFlow id="SequenceFlow_39" tns:priority="2" name="True" sourceRef="ExclusiveGateway_6" targetRef="ExclusiveGateway_17">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_36" language="http://www.java.com/java">kcontext.setVariable(&quot;reportingPartyData&quot;, event);&#xD;
                return true;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:sequenceFlow id="SequenceFlow_18" tns:priority="1" name="False" sourceRef="ExclusiveGateway_12" targetRef="CallActivity_7">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_29" language="http://www.java.com/java">return !USI_InMessage.equals(USI);</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:endEvent id="EndEvent_6" name="End(USI not consistent)">
            <bpmn2:incoming>com.lombardrisk.reform.dfa.sub.GenerateExceptionNotification</bpmn2:incoming>
        </bpmn2:endEvent>
        <bpmn2:sequenceFlow id="com.lombardrisk.reform.dfa.sub.GenerateExceptionNotification" tns:priority="1" sourceRef="CallActivity_7" targetRef="EndEvent_6"/>
        <bpmn2:sequenceFlow id="SequenceFlow_41" tns:priority="2" name="Flase" sourceRef="ExclusiveGateway_9" targetRef="ExclusiveGateway_8">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_41" language="http://www.java.com/java">return true;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:sequenceFlow id="com.sequenceFlow" tns:priority="2" name="" sourceRef="ExclusiveGateway_4" targetRef="EndEvent_3">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_17" language="http://www.java.com/java">return true;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_2" name="Is FX Swap trade?" gatewayDirection="Diverging">
            <bpmn2:incoming>SequenceFlow_47</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_6</bpmn2:outgoing>
            <bpmn2:outgoing>SequenceFlow_9</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:scriptTask id="ScriptTask_1" name="Retrieve USIs and linkId from existing reports" scriptFormat="http://www.java.com/java">
            <bpmn2:incoming>SequenceFlow_6</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_7</bpmn2:outgoing>
            <bpmn2:script>groovyScriptRunner.evaluate(kcontext, &quot;config.scripts.DoddFrankTradeProcess.RetrieveUSIAndLinkIdFromExistingReports(kcontext)&quot;);</bpmn2:script>
        </bpmn2:scriptTask>
        <bpmn2:sequenceFlow id="SequenceFlow_6" tns:priority="2" name="True" sourceRef="ExclusiveGateway_2" targetRef="ScriptTask_1">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_13" language="http://www.java.com/java">return true;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:callActivity id="CallActivity_1" name="Split FX Swap Trade" calledElement="com.lombardrisk.reform.dfa.sub.FxSwapTranform">
            <bpmn2:extensionElements>
                <tns:onEntry-script tns:scriptFormat="http://www.java.com/java">
                    <tns:script>kcontext.setVariable(&quot;usiLinkIdFlg&quot;, &quot;true&quot;);</tns:script>
                </tns:onEntry-script>
            </bpmn2:extensionElements>
            <bpmn2:incoming>SequenceFlow_49</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_8</bpmn2:outgoing>
            <bpmn2:ioSpecification id="InputOutputSpecification_4">
                <bpmn2:dataInput id="DataInput_19" name="fxSwapAriesXml"/>
                <bpmn2:dataInput id="DataInput_26" name="issuerFxSwapFar_usi"/>
                <bpmn2:dataInput id="DataInput_27" name="issuerFxSwapNear_usi"/>
                <bpmn2:dataInput id="DataInput_28" name="tradeIdFxSwapFar_usi"/>
                <bpmn2:dataInput id="DataInput_29" name="tradeIdFxSwapNear_usi"/>
                <bpmn2:dataInput id="DataInput_30" name="linkId"/>
                <bpmn2:dataInput id="DataInput_68" name="usiLinkIdFlg"/>
                <bpmn2:dataOutput id="DataOutput_2" name="farLegXml"/>
                <bpmn2:dataOutput id="DataOutput_4" name="nearLegXml"/>
                <bpmn2:inputSet id="InputSet_4">
                    <bpmn2:dataInputRefs>DataInput_19</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_26</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_27</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_28</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_29</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_30</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_68</bpmn2:dataInputRefs>
                </bpmn2:inputSet>
                <bpmn2:outputSet id="OutputSet_2">
                    <bpmn2:dataOutputRefs>DataOutput_2</bpmn2:dataOutputRefs>
                    <bpmn2:dataOutputRefs>DataOutput_4</bpmn2:dataOutputRefs>
                </bpmn2:outputSet>
            </bpmn2:ioSpecification>
            <bpmn2:dataInputAssociation id="DataInputAssociation_19">
                <bpmn2:sourceRef>event</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_19</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_26">
                <bpmn2:sourceRef>issuer_usi</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_26</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_27">
                <bpmn2:sourceRef>issuer_usi</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_27</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_28">
                <bpmn2:sourceRef>tradeIdFxSwapFar_usi</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_28</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_29">
                <bpmn2:sourceRef>tradeIdFxSwapNear_usi</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_29</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_30">
                <bpmn2:sourceRef>linkId</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_30</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_68">
                <bpmn2:sourceRef>usiLinkIdFlg</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_68</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataOutputAssociation id="_DataOutputAssociation_18">
                <bpmn2:sourceRef>DataOutput_2</bpmn2:sourceRef>
                <bpmn2:targetRef>fxSwapFarLegXml</bpmn2:targetRef>
            </bpmn2:dataOutputAssociation>
            <bpmn2:dataOutputAssociation id="_DataOutputAssociation_19">
                <bpmn2:sourceRef>DataOutput_4</bpmn2:sourceRef>
                <bpmn2:targetRef>fxSwapNearLegXml</bpmn2:targetRef>
            </bpmn2:dataOutputAssociation>
        </bpmn2:callActivity>
        <bpmn2:sequenceFlow id="SequenceFlow_7" tns:priority="1" name="" sourceRef="ScriptTask_1" targetRef="ExclusiveGateway_18"/>
        <bpmn2:sequenceFlow id="SequenceFlow_8" tns:priority="1" name="" sourceRef="CallActivity_1" targetRef="ExclusiveGateway_8"/>
        <bpmn2:sequenceFlow id="SequenceFlow_9" tns:priority="1" name="False" sourceRef="ExclusiveGateway_2" targetRef="ScriptTask_4">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_12" language="http://www.java.com/java">return !isFxSwapTrade;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_3" name="Is FX Swap Trade?" gatewayDirection="Diverging">
            <bpmn2:incoming>SequenceFlow_28</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_10</bpmn2:outgoing>
            <bpmn2:outgoing>SequenceFlow_11</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:scriptTask id="ScriptTask_5" name="Generate linkId" scriptFormat="http://www.java.com/java">
            <bpmn2:incoming>SequenceFlow_11</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_12</bpmn2:outgoing>
            <bpmn2:script>groovyScriptRunner.evaluate(kcontext, &quot;config.scripts.DoddFrankTradeProcess.generateLinkId(kcontext)&quot;);</bpmn2:script>
        </bpmn2:scriptTask>
        <bpmn2:scriptTask id="ScriptTask_6" name="Generate Two USIs" scriptFormat="http://www.java.com/java">
            <bpmn2:incoming>SequenceFlow_12</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_13</bpmn2:outgoing>
            <bpmn2:script>groovyScriptRunner.evaluate(kcontext, &quot;config.scripts.DoddFrankTradeProcess.generateTwoUSIs(kcontext)&quot;);
            </bpmn2:script>
        </bpmn2:scriptTask>
        <bpmn2:sequenceFlow id="SequenceFlow_10" tns:priority="1" name="False" sourceRef="ExclusiveGateway_3" targetRef="ScriptTask_2">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_14" language="http://www.java.com/java">return !isFxSwapTrade;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:sequenceFlow id="SequenceFlow_11" tns:priority="2" name="True" sourceRef="ExclusiveGateway_3" targetRef="ScriptTask_5">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_15" language="http://www.java.com/java">return true;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:sequenceFlow id="SequenceFlow_12" tns:priority="1" name="" sourceRef="ScriptTask_5" targetRef="ScriptTask_6"/>
        <bpmn2:callActivity id="CallActivity_2" name="Split FX Swap trade" calledElement="com.lombardrisk.reform.dfa.sub.FxSwapTranform">
            <bpmn2:extensionElements>
                <tns:onExit-script tns:scriptFormat="http://www.java.com/java">
                    <tns:script>groovyScriptRunner.evaluate(kcontext, &quot;config.scripts.DoddFrankTradeProcess.splitFXSwapTradeOnExit(kcontext)&quot;);</tns:script>
                </tns:onExit-script>
                <tns:onEntry-script tns:scriptFormat="http://www.java.com/java">
                    <tns:script>groovyScriptRunner.evaluate(kcontext, &quot;config.scripts.DoddFrankTradeProcess.splitFXSwapTradeOnEntry(kcontext)&quot;);</tns:script>
                </tns:onEntry-script>
            </bpmn2:extensionElements>
            <bpmn2:incoming>SequenceFlow_13</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_14</bpmn2:outgoing>
            <bpmn2:ioSpecification id="InputOutputSpecification_5">
                <bpmn2:dataInput id="DataInput_20" name="fxSwapAriesXml"/>
                <bpmn2:dataInput id="DataInput_21" name="issuerFxSwapFar_usi"/>
                <bpmn2:dataInput id="DataInput_22" name="issuerFxSwapNear_usi"/>
                <bpmn2:dataInput id="DataInput_23" name="tradeIdFxSwapFar_usi"/>
                <bpmn2:dataInput id="DataInput_24" name="tradeIdFxSwapNear_usi"/>
                <bpmn2:dataInput id="DataInput_34" name="linkId"/>
                <bpmn2:dataInput id="DataInput_67" name="usiLinkIdFlg"/>
                <bpmn2:dataOutput id="DataOutput_5" name="nearLegXml"/>
                <bpmn2:dataOutput id="DataOutput_9" name="farLegXml"/>
                <bpmn2:inputSet id="InputSet_5">
                    <bpmn2:dataInputRefs>DataInput_20</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_21</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_22</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_23</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_24</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_34</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_67</bpmn2:dataInputRefs>
                </bpmn2:inputSet>
                <bpmn2:outputSet id="OutputSet_3">
                    <bpmn2:dataOutputRefs>DataOutput_5</bpmn2:dataOutputRefs>
                    <bpmn2:dataOutputRefs>DataOutput_9</bpmn2:dataOutputRefs>
                </bpmn2:outputSet>
            </bpmn2:ioSpecification>
            <bpmn2:dataInputAssociation id="DataInputAssociation_20">
                <bpmn2:sourceRef>event</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_20</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_21">
                <bpmn2:sourceRef>issuer_usi</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_21</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_22">
                <bpmn2:sourceRef>issuer_usi</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_22</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_23">
                <bpmn2:sourceRef>tradeIdFxSwapFar_usi</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_23</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_24">
                <bpmn2:sourceRef>tradeIdFxSwapNear_usi</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_24</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_34">
                <bpmn2:sourceRef>linkId</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_34</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_67">
                <bpmn2:sourceRef>usiLinkIdFlg</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_67</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataOutputAssociation id="_DataOutputAssociation_20">
                <bpmn2:sourceRef>DataOutput_5</bpmn2:sourceRef>
                <bpmn2:targetRef>fxSwapNearLegXml</bpmn2:targetRef>
            </bpmn2:dataOutputAssociation>
            <bpmn2:dataOutputAssociation id="_DataOutputAssociation_21">
                <bpmn2:sourceRef>DataOutput_9</bpmn2:sourceRef>
                <bpmn2:targetRef>fxSwapFarLegXml</bpmn2:targetRef>
            </bpmn2:dataOutputAssociation>
        </bpmn2:callActivity>
        <bpmn2:sequenceFlow id="SequenceFlow_13" tns:priority="1" name="" sourceRef="ScriptTask_6" targetRef="CallActivity_2"/>
        <bpmn2:sequenceFlow id="SequenceFlow_14" tns:priority="1" name="" sourceRef="CallActivity_2" targetRef="ExclusiveGateway_14"/>
        <bpmn2:scriptTask id="ScriptTask_3" name="Set Financial Transaction" scriptFormat="http://www.java.com/java">
            <bpmn2:incoming>SequenceFlow_20</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_25</bpmn2:outgoing>
            <bpmn2:script>groovyScriptRunner.evaluate(kcontext, &quot;config.scripts.DoddFrankTradeProcess.setFinancialTransaction(kcontext)&quot;);</bpmn2:script>
        </bpmn2:scriptTask>
        <bpmn2:sequenceFlow id="SequenceFlow_15" tns:priority="1" name="" sourceRef="ExclusiveGateway_11" targetRef="CallActivity_3"/>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_4" name="Has more Financial Transaction Message?" gatewayDirection="Diverging">
            <bpmn2:incoming>SequenceFlow_44</bpmn2:incoming>
            <bpmn2:outgoing>com.sequenceFlow</bpmn2:outgoing>
            <bpmn2:outgoing>SequenceFlow_20</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_11" name="Financial Transaction Message Confirmed" gatewayDirection="Converging">
            <bpmn2:incoming>SequenceFlow_25</bpmn2:incoming>
            <bpmn2:incoming>SequenceFlow_29</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_15</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:sequenceFlow id="SequenceFlow_20" tns:priority="1" name="Yes" sourceRef="ExclusiveGateway_4" targetRef="ScriptTask_3">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_16" language="http://www.java.com/java">return (financialTransactionList.size() > 0);</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:sequenceFlow id="SequenceFlow_25" tns:priority="1" name="" sourceRef="ScriptTask_3" targetRef="ExclusiveGateway_11"/>
        <bpmn2:scriptTask id="ScriptTask_8" name="Set Financial Transaction List" scriptFormat="http://www.java.com/java">
            <bpmn2:incoming>SequenceFlow_22</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_29</bpmn2:outgoing>
            <bpmn2:script>groovyScriptRunner.evaluate(kcontext, &quot;config.scripts.DoddFrankTradeProcess.changeFinancialTransactionList(kcontext)&quot;);
            </bpmn2:script>
        </bpmn2:scriptTask>
        <bpmn2:sequenceFlow id="SequenceFlow_29" tns:priority="1" name="" sourceRef="ScriptTask_8" targetRef="ExclusiveGateway_11"/>
        <bpmn2:scriptTask id="ScriptTask_9" name="Validate USI" scriptFormat="http://www.java.com/java">
            <bpmn2:incoming>SequenceFlow_16</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_2</bpmn2:outgoing>
            <bpmn2:script>groovyScriptRunner.evaluate(kcontext, &quot;config.scripts.DoddFrankTradeProcess.validateUSI(kcontext)&quot;);
            </bpmn2:script>
        </bpmn2:scriptTask>
        <bpmn2:sequenceFlow id="SequenceFlow_16" tns:priority="1" name="" sourceRef="Task_1" targetRef="ScriptTask_9"/>
        <bpmn2:callActivity id="CallActivity_6" name="Send reportingPartyNotification" calledElement="com.lombardrisk.reform.dfa.sub.SendReportingPartyNotification">
            <bpmn2:incoming>SequenceFlow_19</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_40</bpmn2:outgoing>
            <bpmn2:ioSpecification id="InputOutputSpecification_6">
                <bpmn2:dataInput id="DataInput_17" name="event"/>
                <bpmn2:dataInput id="DataInput_37" name="reportingParty"/>
                <bpmn2:dataInput id="DataInput_38" name="issuer"/>
                <bpmn2:dataInput id="DataInput_39" name="usi"/>
                <bpmn2:dataInput id="DataInput_40" name="farLeg"/>
                <bpmn2:dataInput id="DataInput_41" name="nearLeg"/>
                <bpmn2:dataInput id="DataInput_58" name="principalName"/>
                <bpmn2:inputSet id="InputSet_6">
                    <bpmn2:dataInputRefs>DataInput_17</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_37</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_38</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_39</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_40</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_41</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_58</bpmn2:dataInputRefs>
                </bpmn2:inputSet>
            </bpmn2:ioSpecification>
            <bpmn2:dataInputAssociation id="DataInputAssociation_17">
                <bpmn2:sourceRef>event</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_17</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_37">
                <bpmn2:sourceRef>reportingParty</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_37</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_38">
                <bpmn2:sourceRef>issuer_usi</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_38</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_39">
                <bpmn2:sourceRef>tradeId_usi</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_39</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_40">
                <bpmn2:sourceRef>tradeIdFxSwapFar_usi</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_40</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_41">
                <bpmn2:sourceRef>tradeIdFxSwapNear_usi</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_41</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_58">
                <bpmn2:sourceRef>principalName</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_58</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
        </bpmn2:callActivity>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_13" name="reportingPartyNotification=true?" gatewayDirection="Diverging">
            <bpmn2:incoming>SequenceFlow_26</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_19</bpmn2:outgoing>
            <bpmn2:outgoing>SequenceFlow_30</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:sequenceFlow id="SequenceFlow_19" tns:priority="1" name="True" sourceRef="ExclusiveGateway_13" targetRef="CallActivity_6">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_18" language="http://www.java.com/java"><![CDATA[
	  Object temp = kcontext.getVariable("reportingPartyNotification");
return temp!=null && Boolean.valueOf(temp.toString());]]></bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:endEvent id="EndEvent_1" name="End(Principal is not reporting party)">
            <bpmn2:incoming>SequenceFlow_63</bpmn2:incoming>
        </bpmn2:endEvent>
        <bpmn2:sequenceFlow id="SequenceFlow_30" tns:priority="2" name="False" sourceRef="ExclusiveGateway_13" targetRef="ExclusiveGateway_24">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_19" language="http://www.java.com/java">return true;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_14" name="Converging" gatewayDirection="Converging">
            <bpmn2:incoming>SequenceFlow_32</bpmn2:incoming>
            <bpmn2:incoming>SequenceFlow_31</bpmn2:incoming>
            <bpmn2:incoming>SequenceFlow_14</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_34</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_15" name="reportingPartyNotification=true?" gatewayDirection="Diverging">
            <bpmn2:incoming>SequenceFlow_34</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_36</bpmn2:outgoing>
            <bpmn2:outgoing>SequenceFlow_42</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:sequenceFlow id="SequenceFlow_34" tns:priority="1" name="" sourceRef="ExclusiveGateway_14" targetRef="ExclusiveGateway_15"/>
        <bpmn2:callActivity id="CallActivity_5" name="Send reportingPartyNotification" calledElement="com.lombardrisk.reform.dfa.sub.SendReportingPartyNotification">
            <bpmn2:incoming>SequenceFlow_36</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_43</bpmn2:outgoing>
            <bpmn2:ioSpecification id="InputOutputSpecification_7">
                <bpmn2:dataInput id="DataInput_42" name="event"/>
                <bpmn2:dataInput id="DataInput_43" name="reportingParty"/>
                <bpmn2:dataInput id="DataInput_44" name="issuer"/>
                <bpmn2:dataInput id="DataInput_45" name="usi"/>
                <bpmn2:dataInput id="DataInput_46" name="farLeg"/>
                <bpmn2:dataInput id="DataInput_47" name="nearLeg"/>
                <bpmn2:dataInput id="DataInput_59" name="principalName"/>
                <bpmn2:inputSet id="InputSet_7">
                    <bpmn2:dataInputRefs>DataInput_42</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_43</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_44</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_45</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_46</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_47</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_59</bpmn2:dataInputRefs>
                </bpmn2:inputSet>
            </bpmn2:ioSpecification>
            <bpmn2:dataInputAssociation id="DataInputAssociation_42">
                <bpmn2:sourceRef>event</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_42</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_43">
                <bpmn2:sourceRef>reportingParty</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_43</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_44">
                <bpmn2:sourceRef>issuer_usi</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_44</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_45">
                <bpmn2:sourceRef>tradeId_usi</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_45</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_46">
                <bpmn2:sourceRef>tradeIdFxSwapFar_usi</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_46</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_47">
                <bpmn2:sourceRef>tradeIdFxSwapNear_usi</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_47</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_59">
                <bpmn2:sourceRef>principalName</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_59</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
        </bpmn2:callActivity>
        <bpmn2:sequenceFlow id="SequenceFlow_36" tns:priority="1" name="True" sourceRef="ExclusiveGateway_15" targetRef="CallActivity_5">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_23" language="http://www.java.com/java">Object temp = kcontext.getVariable(&quot;reportingPartyNotification&quot;);&#xD;
                return temp!=null &amp;&amp; Boolean.valueOf(temp.toString());</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:sequenceFlow id="SequenceFlow_42" tns:priority="2" name="False" sourceRef="ExclusiveGateway_15" targetRef="ExclusiveGateway_25">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_22" language="http://www.java.com/java">return true;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:sequenceFlow id="SequenceFlow_43" tns:priority="1" name="" sourceRef="CallActivity_5" targetRef="ExclusiveGateway_25"/>
        <bpmn2:callActivity id="CallActivity_7" name="Throw exception USI not consistent" calledElement="com.lombardrisk.reform.dfa.sub.GenerateExceptionNotification">
            <bpmn2:extensionElements>
                <tns:onEntry-script tns:scriptFormat="http://www.java.com/java">
                    <tns:script>kcontext.setVariable(&quot;exceptionMessage&quot;, &quot;USI not consistent between existing and incoming message. existing USI:&quot; + USI + &quot;, message USI:&quot; + USI_InMessage);&#xD;
                        kcontext.setVariable(&quot;exceptionSource&quot;, &quot;Reform&quot;);</tns:script>
                </tns:onEntry-script>
            </bpmn2:extensionElements>
            <bpmn2:incoming>SequenceFlow_18</bpmn2:incoming>
            <bpmn2:outgoing>com.lombardrisk.reform.dfa.sub.GenerateExceptionNotification</bpmn2:outgoing>
            <bpmn2:ioSpecification id="InputOutputSpecification_8">
                <bpmn2:dataInput id="DataInput_48" name="event"/>
                <bpmn2:dataInput id="DataInput_49" name="exceptionMessage"/>
                <bpmn2:dataInput id="DataInput_50" name="exceptionSource"/>
                <bpmn2:dataInput id="DataInput_57" name="originalMessageId"/>
                <bpmn2:inputSet id="InputSet_8">
                    <bpmn2:dataInputRefs>DataInput_48</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_49</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_50</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_57</bpmn2:dataInputRefs>
                </bpmn2:inputSet>
            </bpmn2:ioSpecification>
            <bpmn2:dataInputAssociation id="DataInputAssociation_48">
                <bpmn2:sourceRef>event</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_48</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_49">
                <bpmn2:sourceRef>exceptionMessage</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_49</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_50">
                <bpmn2:sourceRef>exceptionSource</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_50</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_57">
                <bpmn2:sourceRef>tradeMessageId</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_57</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
        </bpmn2:callActivity>
        <bpmn2:task id="Task_4" tns:taskName="CreateEntity" tns:displayName="CreateEntity" tns:icon="icons/Ember.png" name="Save trade message Id">
            <bpmn2:extensionElements>
                <tns:onEntry-script tns:scriptFormat="http://www.java.com/java">
                    <tns:script>groovyScriptRunner.evaluate(kcontext, &quot;config.scripts.DoddFrankTradeProcess.saveTradeMessageIdOnEntry(kcontext)&quot;);</tns:script>
                </tns:onEntry-script>
            </bpmn2:extensionElements>
            <bpmn2:incoming>SequenceFlow_3</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_53</bpmn2:outgoing>
            <bpmn2:ioSpecification id="InputOutputSpecification_12">
                <bpmn2:dataInput id="DataInput_51" name="entityId"/>
                <bpmn2:dataInput id="DataInput_52" name="entityType"/>
                <bpmn2:dataInput id="DataInput_55" name="stringValueIn"/>
                <bpmn2:inputSet id="InputSet_12" name="Input Set 12">
                    <bpmn2:dataInputRefs>DataInput_51</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_52</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_55</bpmn2:dataInputRefs>
                </bpmn2:inputSet>
            </bpmn2:ioSpecification>
            <bpmn2:dataInputAssociation id="DataInputAssociation_51">
                <bpmn2:sourceRef>processInstanceId</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_51</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_52">
                <bpmn2:targetRef>DataInput_52</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_9">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_25">tradeMessageId</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_27">DataInput_52</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_55">
                <bpmn2:sourceRef>tradeMessageId</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_55</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
        </bpmn2:task>
        <bpmn2:task id="Task_5" tns:taskName="CreateEntity" tns:displayName="CreateEntity" tns:icon="icons/Ember.png" name="Save SDR report message id">
            <bpmn2:incoming>com.lombardrisk.reform.dfa.sub.GenerateAndSendReport</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_44</bpmn2:outgoing>
            <bpmn2:ioSpecification id="InputOutputSpecification_13">
                <bpmn2:dataInput id="DataInput_53" name="entityId"/>
                <bpmn2:dataInput id="DataInput_54" name="entityType"/>
                <bpmn2:inputSet id="InputSet_13" name="Input Set 13">
                    <bpmn2:dataInputRefs>DataInput_53</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_54</bpmn2:dataInputRefs>
                </bpmn2:inputSet>
            </bpmn2:ioSpecification>
            <bpmn2:dataInputAssociation id="DataInputAssociation_53">
                <bpmn2:sourceRef>sdrReportMessageId</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_53</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_54">
                <bpmn2:targetRef>DataInput_54</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_10">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_39" language="http://www.java.com/java">messageId</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_40">DataInput_54</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
        </bpmn2:task>
        <bpmn2:sequenceFlow id="SequenceFlow_44" tns:priority="1" name="" sourceRef="Task_5" targetRef="ExclusiveGateway_4"/>
        <bpmn2:sequenceFlow id="com.lombardrisk.reform.dfa.sub.GenerateAndSendReport" tns:priority="1" name="" sourceRef="CallActivity_3" targetRef="Task_5"/>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_16" name="Is reportingPurpose='Snapshot'" gatewayDirection="Diverging">
            <bpmn2:incoming>SequenceFlow_24</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_45</bpmn2:outgoing>
            <bpmn2:outgoing>SequenceFlow_46</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:sequenceFlow id="SequenceFlow_45" tns:priority="2" name="False" sourceRef="ExclusiveGateway_16" targetRef="ExclusiveGateway_6">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_42" language="http://www.java.com/java">return true;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_17" name="Converging to FX Swap" gatewayDirection="Converging">
            <bpmn2:incoming>SequenceFlow_39</bpmn2:incoming>
            <bpmn2:incoming>SequenceFlow_46</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_47</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:sequenceFlow id="SequenceFlow_46" tns:priority="1" name="True" sourceRef="ExclusiveGateway_16" targetRef="ExclusiveGateway_17">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_43" language="http://www.java.com/java">
                return groovyScriptRunner.evaluateResult(kcontext, &quot;config.scripts.DoddFrankTradeProcess.convergingToFXSwap(kcontext)&quot;);
            </bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:sequenceFlow id="SequenceFlow_47" tns:priority="1" name="" sourceRef="ExclusiveGateway_17" targetRef="ExclusiveGateway_2"/>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_18" name="Is USI provided in trade message?" gatewayDirection="Diverging">
            <bpmn2:incoming>SequenceFlow_7</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_48</bpmn2:outgoing>
            <bpmn2:outgoing>SequenceFlow_50</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_19" name="Convering to Split FX Swap" gatewayDirection="Converging">
            <bpmn2:incoming>SequenceFlow_48</bpmn2:incoming>
            <bpmn2:incoming>SequenceFlow_52</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_49</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_20" name="Convering to consistent USI" gatewayDirection="Converging">
            <bpmn2:incoming>SequenceFlow_35</bpmn2:incoming>
            <bpmn2:incoming>SequenceFlow_50</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_51</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:sequenceFlow id="SequenceFlow_48" tns:priority="2" name="False" sourceRef="ExclusiveGateway_18" targetRef="ExclusiveGateway_19">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_44" language="http://www.java.com/java">return true;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:sequenceFlow id="SequenceFlow_49" tns:priority="1" name="" sourceRef="ExclusiveGateway_19" targetRef="CallActivity_1"/>
        <bpmn2:sequenceFlow id="SequenceFlow_50" tns:priority="1" name="True, FX Swap " sourceRef="ExclusiveGateway_18" targetRef="ExclusiveGateway_20">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_45" language="http://www.java.com/java">return groovyScriptRunner.evaluateResult(kcontext, &quot;config.scripts.DoddFrankTradeProcess.convergingToConsistentUSI(kcontext)&quot;);
            </bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:sequenceFlow id="SequenceFlow_51" tns:priority="1" name="" sourceRef="ExclusiveGateway_20" targetRef="ExclusiveGateway_12"/>
        <bpmn2:sequenceFlow id="SequenceFlow_52" tns:priority="3" name="True, FX Swap " sourceRef="ExclusiveGateway_12" targetRef="ExclusiveGateway_19">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_46" language="http://www.java.com/java">return true;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:task id="Task_6" tns:taskName="ObsoleteActivities" tns:displayName="ObsoleteActivities" tns:icon="icons/cancel.png" name="Set corresponding activity of original message to &quot;Obsolete&quot;">
            <bpmn2:incoming>SequenceFlow_54</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_55</bpmn2:outgoing>
            <bpmn2:ioSpecification id="InputOutputSpecification_14">
                <bpmn2:dataInput id="DataInput_14" name="comment"/>
                <bpmn2:dataInput id="DataInput_56" name="originalMessageId"/>
                <bpmn2:inputSet id="InputSet_14" name="Input Set 14">
                    <bpmn2:dataInputRefs>DataInput_14</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_56</bpmn2:dataInputRefs>
                </bpmn2:inputSet>
            </bpmn2:ioSpecification>
            <bpmn2:dataInputAssociation id="DataInputAssociation_14">
                <bpmn2:targetRef>DataInput_14</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_12">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_50">The exception for message (id=#{obsoleteMessageId}) is obselete because replayed message (id=#{tradeMessageId}) is received.&#xD;
                    </bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_47">DataInput_14</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_56">
                <bpmn2:targetRef>DataInput_56</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_11">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_49">#{obsoleteMessageId}</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_48">DataInput_56</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
        </bpmn2:task>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_21" name="&lt;inReplyTo> not null &amp;&amp; originatingEventSubType=Repair" gatewayDirection="Diverging">
            <bpmn2:incoming>SequenceFlow_53</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_54</bpmn2:outgoing>
            <bpmn2:outgoing>SequenceFlow_57</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:sequenceFlow id="SequenceFlow_53" tns:priority="2" name="" sourceRef="Task_4" targetRef="ExclusiveGateway_21"/>
        <bpmn2:sequenceFlow id="SequenceFlow_54" tns:priority="1" name="True" sourceRef="ExclusiveGateway_21" targetRef="Task_6">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_48" language="http://www.java.com/java">
                return groovyScriptRunner.evaluateResult(kcontext, &quot;config.scripts.DoddFrankTradeProcess.inReplyToNotNullAndOriginatingEventSubTypeIsRepair(kcontext)&quot;);
            </bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_22" name="Combine" gatewayDirection="Converging">
            <bpmn2:incoming>SequenceFlow_55</bpmn2:incoming>
            <bpmn2:incoming>SequenceFlow_57</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_56</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:sequenceFlow id="SequenceFlow_55" tns:priority="1" name="" sourceRef="Task_6" targetRef="ExclusiveGateway_22"/>
        <bpmn2:sequenceFlow id="SequenceFlow_56" tns:priority="1" name="" sourceRef="ExclusiveGateway_22" targetRef="Task_3"/>
        <bpmn2:sequenceFlow id="SequenceFlow_57" tns:priority="2" name="False" sourceRef="ExclusiveGateway_21" targetRef="ExclusiveGateway_22">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_47" language="http://www.java.com/java">return true;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_23" name="Is FX Swap trade?" gatewayDirection="Diverging">
            <bpmn2:incoming>SequenceFlow_72</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_64</bpmn2:outgoing>
            <bpmn2:outgoing>SequenceFlow_69</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:sequenceFlow id="SequenceFlow_40" tns:priority="1" name="" sourceRef="CallActivity_6" targetRef="ExclusiveGateway_24"/>
        <bpmn2:sequenceFlow id="SequenceFlow_63" tns:priority="1" name="" sourceRef="Task_11" targetRef="EndEvent_1"/>
        <bpmn2:task id="Task_11" tns:taskName="DfaIDXReference" tns:displayName="DfaIDXReference" tns:icon="icons/iTunes.png" name="UpSertDfaIDXRef(N/A)">
            <bpmn2:extensionElements>
                <tns:onEntry-script tns:scriptFormat="http://www.java.com/java">
                    <tns:script>groovyScriptRunner.evaluate(kcontext, &quot;config.scripts.DoddFrankTradeProcess.upSertDfaIDXRefNAOnEntry(kcontext)&quot;);</tns:script>
                </tns:onEntry-script>
            </bpmn2:extensionElements>
            <bpmn2:incoming>SequenceFlow_64</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_63</bpmn2:outgoing>
            <bpmn2:ioSpecification id="InputOutputSpecification_18">
                <bpmn2:dataInput id="DataInput_78" name="internalId"/>
                <bpmn2:dataInput id="DataInput_79" name="legIndicator"/>
                <bpmn2:dataInput id="DataInput_80" name="usi"/>
                <bpmn2:dataInput id="DataInput_81" name="reportingParty"/>
                <bpmn2:dataInput id="DataInput_82" name="tradeData"/>
                <bpmn2:dataInput id="DataInput_83" name="operation"/>
                <bpmn2:inputSet id="InputSet_18" name="Input Set 18">
                    <bpmn2:dataInputRefs>DataInput_78</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_79</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_80</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_81</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_82</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_83</bpmn2:dataInputRefs>
                </bpmn2:inputSet>
            </bpmn2:ioSpecification>
            <bpmn2:dataInputAssociation id="DataInputAssociation_78">
                <bpmn2:targetRef>DataInput_78</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_28">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_68" language="http://www.java.com/java">#{principalTradeId}</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_51">DataInput_78</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_79">
                <bpmn2:targetRef>DataInput_79</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_29">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_69" language="http://www.java.com/java">#{legIndicator}</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_52">DataInput_79</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_80">
                <bpmn2:targetRef>DataInput_80</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_30">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_70" language="http://www.java.com/java">#{USI}</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_53">DataInput_80</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_81">
                <bpmn2:targetRef>DataInput_81</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_24">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_67" language="http://www.java.com/java">Counterparty</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_54">DataInput_81</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_82">
                <bpmn2:sourceRef>event</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_82</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_83">
                <bpmn2:targetRef>DataInput_83</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_31">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_71" language="http://www.java.com/java">upsert</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_54">DataInput_83</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
        </bpmn2:task>
        <bpmn2:sequenceFlow id="SequenceFlow_64" tns:priority="1" name="False" sourceRef="ExclusiveGateway_23" targetRef="Task_11">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_72" language="http://www.java.com/java">if(!isFxSwapTrade)&#xD;
                {&#xD;
                kcontext.setVariable(&quot;legIndicator&quot;, &quot;N/A&quot;);&#xD;
                return true;&#xD;
                }&#xD;
                else&#xD;
                {&#xD;
                return false;&#xD;
                }</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:callActivity id="CallActivity_8" name="Split FX Swap trade" calledElement="com.lombardrisk.reform.dfa.sub.FxSwapTranform">
            <bpmn2:extensionElements>
                <tns:onEntry-script tns:scriptFormat="http://www.java.com/java">
                    <tns:script>kcontext.setVariable(&quot;usiLinkIdFlg&quot;, &quot;false&quot;);&#xD;</tns:script>
                </tns:onEntry-script>
            </bpmn2:extensionElements>
            <bpmn2:incoming>SequenceFlow_69</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_74</bpmn2:outgoing>
            <bpmn2:ioSpecification id="InputOutputSpecification_21">
                <bpmn2:dataInput id="DataInput_97" name="fxSwapAriesXml"/>
                <bpmn2:dataInput id="DataInput_98" name="issuerFxSwapFar_usi"/>
                <bpmn2:dataInput id="DataInput_99" name="issuerFxSwapNear_usi"/>
                <bpmn2:dataInput id="DataInput_100" name="tradeIdFxSwapFar_usi"/>
                <bpmn2:dataInput id="DataInput_101" name="linkId"/>
                <bpmn2:dataInput id="DataInput_102" name="usiLinkIdFlg"/>
                <bpmn2:dataOutput id="DataOutput_12" name="farLegXml"/>
                <bpmn2:dataOutput id="DataOutput_13" name="nearLegXml"/>
                <bpmn2:inputSet id="InputSet_21">
                    <bpmn2:dataInputRefs>DataInput_97</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_98</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_99</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_100</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_101</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_102</bpmn2:dataInputRefs>
                </bpmn2:inputSet>
                <bpmn2:outputSet id="OutputSet_7">
                    <bpmn2:dataOutputRefs>DataOutput_12</bpmn2:dataOutputRefs>
                    <bpmn2:dataOutputRefs>DataOutput_13</bpmn2:dataOutputRefs>
                </bpmn2:outputSet>
            </bpmn2:ioSpecification>
            <bpmn2:dataInputAssociation id="DataInputAssociation_97">
                <bpmn2:sourceRef>event</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_97</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_98">
                <bpmn2:sourceRef>issuer_usi</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_98</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_99">
                <bpmn2:sourceRef>issuer_usi</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_99</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_100">
                <bpmn2:sourceRef>tradeIdFxSwapFar_usi</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_100</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_101">
                <bpmn2:sourceRef>linkId</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_101</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_102">
                <bpmn2:sourceRef>usiLinkIdFlg</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_102</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataOutputAssociation id="_DataOutputAssociation_30">
                <bpmn2:sourceRef>DataOutput_12</bpmn2:sourceRef>
                <bpmn2:targetRef>fxSwapFarLegXml</bpmn2:targetRef>
            </bpmn2:dataOutputAssociation>
            <bpmn2:dataOutputAssociation id="_DataOutputAssociation_31">
                <bpmn2:sourceRef>DataOutput_13</bpmn2:sourceRef>
                <bpmn2:targetRef>fxSwapNearLegXml</bpmn2:targetRef>
            </bpmn2:dataOutputAssociation>
        </bpmn2:callActivity>
        <bpmn2:sequenceFlow id="SequenceFlow_69" tns:priority="2" name="True" sourceRef="ExclusiveGateway_23" targetRef="CallActivity_8">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_79" language="http://www.java.com/java">return true;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_24" name="Convering to FX Swap trade" gatewayDirection="Converging">
            <bpmn2:incoming>SequenceFlow_30</bpmn2:incoming>
            <bpmn2:incoming>SequenceFlow_40</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_72</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:sequenceFlow id="SequenceFlow_72" tns:priority="1" name="" sourceRef="ExclusiveGateway_24" targetRef="ExclusiveGateway_23"/>
        <bpmn2:endEvent id="EndEvent_10" name="End(Principal is not reporting party)">
            <bpmn2:incoming>SequenceFlow_59</bpmn2:incoming>
        </bpmn2:endEvent>
        <bpmn2:task id="Task_14" tns:taskName="DfaIDXReference" tns:displayName="DfaIDXReference" tns:icon="icons/iTunes.png" name="UpSertDfaIDXRef(Near)">
            <bpmn2:extensionElements>
                <tns:onEntry-script tns:scriptFormat="http://www.java.com/java">
                    <tns:script>kcontext.setVariable(&quot;legIndicator&quot;, &quot;Near&quot;);</tns:script>
                </tns:onEntry-script>
            </bpmn2:extensionElements>
            <bpmn2:incoming>SequenceFlow_74</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_58</bpmn2:outgoing>
            <bpmn2:ioSpecification id="InputOutputSpecification_22">
                <bpmn2:dataInput id="DataInput_104" name="internalId"/>
                <bpmn2:dataInput id="DataInput_105" name="legIndicator"/>
                <bpmn2:dataInput id="DataInput_106" name="usi"/>
                <bpmn2:dataInput id="DataInput_107" name="reportingParty"/>
                <bpmn2:dataInput id="DataInput_108" name="tradeData"/>
                <bpmn2:dataInput id="DataInput_109" name="operation"/>
                <bpmn2:inputSet id="InputSet_22" name="Input Set 22">
                    <bpmn2:dataInputRefs>DataInput_104</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_105</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_106</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_107</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_108</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_109</bpmn2:dataInputRefs>
                </bpmn2:inputSet>
            </bpmn2:ioSpecification>
            <bpmn2:dataInputAssociation id="DataInputAssociation_104">
                <bpmn2:targetRef>DataInput_104</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_13">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_55" language="http://www.java.com/java">#{principalTradeId}</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_56">DataInput_104</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_105">
                <bpmn2:targetRef>DataInput_105</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_14">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_56" language="http://www.java.com/java">#{legIndicator}</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_57">DataInput_105</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_106">
                <bpmn2:targetRef>DataInput_106</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_15">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_57" language="http://www.java.com/java">#{USI}</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_58">DataInput_106</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_107">
                <bpmn2:targetRef>DataInput_107</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_23">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_66" language="http://www.java.com/java">Counterparty</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_59">DataInput_107</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_108">
                <bpmn2:sourceRef>fxSwapNearLegXml</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_108</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_109">
                <bpmn2:targetRef>DataInput_109</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_16">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_58" language="http://www.java.com/java">upsert</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_59">DataInput_109</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
        </bpmn2:task>
        <bpmn2:sequenceFlow id="SequenceFlow_74" tns:priority="1" name="" sourceRef="CallActivity_8" targetRef="Task_14"/>
        <bpmn2:task id="Task_7" tns:taskName="DfaIDXReference" tns:displayName="DfaIDXReference" tns:icon="icons/iTunes.png" name="UpSertDfaIDXRef(Far)">
            <bpmn2:incoming>SequenceFlow_58</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_59</bpmn2:outgoing>
            <bpmn2:ioSpecification id="InputOutputSpecification_15">
                <bpmn2:dataInput id="DataInput_60" name="internalId"/>
                <bpmn2:dataInput id="DataInput_61" name="legIndicator"/>
                <bpmn2:dataInput id="DataInput_62" name="usi"/>
                <bpmn2:dataInput id="DataInput_63" name="reportingParty"/>
                <bpmn2:dataInput id="DataInput_64" name="tradeData"/>
                <bpmn2:dataInput id="DataInput_65" name="operation"/>
                <bpmn2:inputSet id="InputSet_15" name="Input Set 15">
                    <bpmn2:dataInputRefs>DataInput_60</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_61</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_62</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_63</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_64</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_65</bpmn2:dataInputRefs>
                </bpmn2:inputSet>
            </bpmn2:ioSpecification>
            <bpmn2:dataInputAssociation id="DataInputAssociation_60">
                <bpmn2:targetRef>DataInput_60</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_19">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_59" language="http://www.java.com/java">#{principalTradeId}</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_60">DataInput_60</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_61">
                <bpmn2:targetRef>DataInput_61</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_20">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_60" language="http://www.java.com/java">Far</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_61">DataInput_61</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_62">
                <bpmn2:targetRef>DataInput_62</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_21">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_61" language="http://www.java.com/java">#{USI2}</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_62">DataInput_62</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_63">
                <bpmn2:targetRef>DataInput_63</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_25">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_73" language="http://www.java.com/java">Counterparty</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_63">DataInput_63</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_64">
                <bpmn2:sourceRef>fxSwapFarLegXml</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_64</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_65">
                <bpmn2:targetRef>DataInput_65</bpmn2:targetRef>
                <bpmn2:assignment id="Assignment_22">
                    <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_62" language="http://www.java.com/java">upsert</bpmn2:from>
                    <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_64">DataInput_65</bpmn2:to>
                </bpmn2:assignment>
            </bpmn2:dataInputAssociation>
        </bpmn2:task>
        <bpmn2:sequenceFlow id="SequenceFlow_58" tns:priority="1" name="" sourceRef="Task_14" targetRef="Task_7"/>
        <bpmn2:sequenceFlow id="SequenceFlow_59" tns:priority="1" name="" sourceRef="Task_7" targetRef="EndEvent_10"/>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_25" name="Converging" gatewayDirection="Converging">
            <bpmn2:incoming>SequenceFlow_43</bpmn2:incoming>
            <bpmn2:incoming>SequenceFlow_42</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_62</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:callActivity id="CallActivity_9" name="UpSertDfaIDXRef" calledElement="com.lombardrisk.reform.dfa.sub.UpSertDfaIDXRef">
            <bpmn2:incoming>SequenceFlow_62</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_60</bpmn2:outgoing>
            <bpmn2:ioSpecification id="InputOutputSpecification_16">
                <bpmn2:dataInput id="DataInput_66" name="internalId"/>
                <bpmn2:dataInput id="DataInput_69" name="legIndicator"/>
                <bpmn2:dataInput id="DataInput_70" name="USI"/>
                <bpmn2:dataInput id="DataInput_71" name="USI2"/>
                <bpmn2:dataInput id="DataInput_72" name="reportingParty"/>
                <bpmn2:dataInput id="DataInput_73" name="tradeData"/>
                <bpmn2:dataInput id="DataInput_74" name="nearTradeData"/>
                <bpmn2:dataInput id="DataInput_75" name="farTradeData"/>
                <bpmn2:dataInput id="DataInput_76" name="isFxSwapTrade"/>
                <bpmn2:inputSet id="InputSet_16">
                    <bpmn2:dataInputRefs>DataInput_66</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_69</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_70</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_71</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_72</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_73</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_74</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_75</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_76</bpmn2:dataInputRefs>
                </bpmn2:inputSet>
            </bpmn2:ioSpecification>
            <bpmn2:dataInputAssociation id="DataInputAssociation_66">
                <bpmn2:sourceRef>principalTradeId</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_66</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_69">
                <bpmn2:sourceRef>legIndicator</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_69</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_70">
                <bpmn2:sourceRef>USI</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_70</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_71">
                <bpmn2:sourceRef>USI2</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_71</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_72">
                <bpmn2:sourceRef>reportingParty</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_72</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_73">
                <bpmn2:sourceRef>event</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_73</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_74">
                <bpmn2:sourceRef>fxSwapNearLegXml</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_74</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_75">
                <bpmn2:sourceRef>fxSwapFarLegXml</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_75</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_76">
                <bpmn2:sourceRef>isFxSwapTrade</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_76</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
        </bpmn2:callActivity>
        <bpmn2:sequenceFlow id="SequenceFlow_62" tns:priority="1" name="" sourceRef="ExclusiveGateway_25" targetRef="CallActivity_9"/>
        <bpmn2:sequenceFlow id="SequenceFlow_60" tns:priority="1" name="" sourceRef="CallActivity_9" targetRef="ExclusiveGateway_8"/>
        <bpmn2:exclusiveGateway id="ExclusiveGateway_26" name="Validate Trade successed?" gatewayDirection="Diverging">
            <bpmn2:incoming>SequenceFlow_2</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_61</bpmn2:outgoing>
            <bpmn2:outgoing>SequenceFlow_66</bpmn2:outgoing>
        </bpmn2:exclusiveGateway>
        <bpmn2:callActivity id="CallActivity_10" name="Exception: Validate Trade failed" calledElement="com.lombardrisk.reform.dfa.sub.GenerateExceptionNotification">
            <bpmn2:extensionElements>
                <tns:onEntry-script tns:scriptFormat="http://www.java.com/java">
                    <tns:script>groovyScriptRunner.evaluate(kcontext, &quot;config.scripts.DoddFrankTradeProcess.exceptionValidateTradeFailed(kcontext)&quot;);</tns:script>
                </tns:onEntry-script>
            </bpmn2:extensionElements>
            <bpmn2:incoming>SequenceFlow_61</bpmn2:incoming>
            <bpmn2:outgoing>SequenceFlow_65</bpmn2:outgoing>
            <bpmn2:ioSpecification id="InputOutputSpecification_17">
                <bpmn2:dataInput id="DataInput_87" name="event"/>
                <bpmn2:dataInput id="DataInput_88" name="exceptionMessage"/>
                <bpmn2:dataInput id="DataInput_89" name="exceptionSource"/>
                <bpmn2:dataInput id="DataInput_90" name="originalMessageId"/>
                <bpmn2:dataInput id="DataInput_91" name="exceptionCode"/>
        <bpmn2:dataInput id="DataInput_94" name="validateErrorMessage"/>
                <bpmn2:inputSet id="InputSet_17">
                    <bpmn2:dataInputRefs>DataInput_87</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_88</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_89</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_90</bpmn2:dataInputRefs>
                    <bpmn2:dataInputRefs>DataInput_91</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>DataInput_94</bpmn2:dataInputRefs>
                </bpmn2:inputSet>
            </bpmn2:ioSpecification>
            <bpmn2:dataInputAssociation id="DataInputAssociation_87">
                <bpmn2:sourceRef>event</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_87</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_88">
                <bpmn2:sourceRef>exceptionMessage</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_88</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_89">
                <bpmn2:sourceRef>exceptionSource</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_89</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_90">
                <bpmn2:sourceRef>messageId</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_90</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
            <bpmn2:dataInputAssociation id="DataInputAssociation_91">
                <bpmn2:sourceRef>exceptionCode</bpmn2:sourceRef>
                <bpmn2:targetRef>DataInput_91</bpmn2:targetRef>
            </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="DataInputAssociation_94">
        <bpmn2:sourceRef>validateErrorMessage</bpmn2:sourceRef>
        <bpmn2:targetRef>DataInput_94</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
        </bpmn2:callActivity>
        <bpmn2:endEvent id="EndEvent_5" name="Validate Trade failed end">
            <bpmn2:incoming>SequenceFlow_65</bpmn2:incoming>
        </bpmn2:endEvent>
        <bpmn2:sequenceFlow id="SequenceFlow_61" tns:priority="1" name="False" sourceRef="ExclusiveGateway_26" targetRef="CallActivity_10">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_65" language="http://www.java.com/java"> if(validateMessageResult!=null &amp;&amp; ((List)validateMessageResult).size()>0){&#xD;
                return true;&#xD;
                }&#xD;
                return false;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:sequenceFlow id="SequenceFlow_65" tns:priority="1" name="" sourceRef="CallActivity_10" targetRef="EndEvent_5"/>
        <bpmn2:sequenceFlow id="SequenceFlow_66" tns:priority="2" name="True" sourceRef="ExclusiveGateway_26" targetRef="Task_2">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_63" language="http://www.java.com/java">return true;</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
    </bpmn2:process>
    <bpmndi:BPMNDiagram id="BPMNDiagram_1" name="Dodd Frank Trade Process">
        <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="com.lombardrisk.reform.dfa.DoddFrankTradeProcess">
            <bpmndi:BPMNShape id="BPMNShape_1" bpmnElement="StartEvent_1">
                <dc:Bounds height="36.0" width="36.0" x="211.0" y="0.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="BPMNShape_Task_1" bpmnElement="Task_1">
                <dc:Bounds height="47.0" width="111.0" x="174.0" y="108.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_1" bpmnElement="SequenceFlow_1" sourceElement="BPMNShape_1" targetElement="BPMNShape_Task_1">
                <di:waypoint xsi:type="dc:Point" x="229.0" y="36.0"/>
                <di:waypoint xsi:type="dc:Point" x="229.0" y="108.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_2" bpmnElement="SequenceFlow_2" sourceElement="BPMNShape_ScriptTask_9" targetElement="BPMNShape_ExclusiveGateway_26">
                <di:waypoint xsi:type="dc:Point" x="303.0" y="225.0"/>
                <di:waypoint xsi:type="dc:Point" x="253.0" y="225.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_Task_2" bpmnElement="Task_2">
                <dc:Bounds height="45.0" width="125.0" x="168.0" y="438.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="BPMNShape_Task_3" bpmnElement="Task_3">
                <dc:Bounds height="46.0" width="121.0" x="348.0" y="813.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_3" bpmnElement="SequenceFlow_3" sourceElement="BPMNShape_Task_2" targetElement="BPMNShape_Task_4">
                <di:waypoint xsi:type="dc:Point" x="230.0" y="483.0"/>
                <di:waypoint xsi:type="dc:Point" x="230.0" y="532.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_1" bpmnElement="ExclusiveGateway_1" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="387.0" y="708.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_4" bpmnElement="SequenceFlow_4" sourceElement="BPMNShape_Task_3" targetElement="BPMNShape_ExclusiveGateway_1">
                <di:waypoint xsi:type="dc:Point" x="408.0" y="813.0"/>
                <di:waypoint xsi:type="dc:Point" x="409.0" y="753.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_EndEvent_1" bpmnElement="EndEvent_2">
                <dc:Bounds height="45.0" width="45.0" x="519.0" y="708.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_5" bpmnElement="SequenceFlow_5" sourceElement="BPMNShape_ExclusiveGateway_1" targetElement="BPMNShape_EndEvent_1">
                <di:waypoint xsi:type="dc:Point" x="432.0" y="730.0"/>
                <di:waypoint xsi:type="dc:Point" x="519.0" y="730.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_EndEvent_2" bpmnElement="EndEvent_3">
                <dc:Bounds height="41.0" width="41.0" x="2685.0" y="765.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="BPMNShape_CallActivity_3" bpmnElement="CallActivity_3" isExpanded="true">
                <dc:Bounds height="50.0" width="191.0" x="2191.0" y="649.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="BPMNShape_Task_8" bpmnElement="Task_8">
                <dc:Bounds height="60.0" width="131.0" x="344.0" y="578.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_17" bpmnElement="SequenceFlow_17" sourceElement="BPMNShape_ExclusiveGateway_1" targetElement="BPMNShape_Task_8">
                <di:waypoint xsi:type="dc:Point" x="409.0" y="708.0"/>
                <di:waypoint xsi:type="dc:Point" x="409.0" y="638.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_6" bpmnElement="ExclusiveGateway_6" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="703.0" y="486.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="BPMNShape_CallActivity_4" bpmnElement="CallActivity_4" isExpanded="true">
                <dc:Bounds height="57.0" width="141.0" x="944.0" y="646.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_23" bpmnElement="SequenceFlow_23" sourceElement="BPMNShape_ExclusiveGateway_6" targetElement="BPMNShape_CallActivity_4">
                <di:waypoint xsi:type="dc:Point" x="725.0" y="531.0"/>
                <di:waypoint xsi:type="dc:Point" x="725.0" y="673.0"/>
                <di:waypoint xsi:type="dc:Point" x="944.0" y="674.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_24" bpmnElement="SequenceFlow_24" sourceElement="BPMNShape_Task_8" targetElement="BPMNShape_ExclusiveGateway_16">
                <di:waypoint xsi:type="dc:Point" x="409.0" y="578.0"/>
                <di:waypoint xsi:type="dc:Point" x="409.0" y="532.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_com.lombardrisk.reform.dfa.sub.DetermineReportingParty" bpmnElement="com.lombardrisk.reform.dfa.sub.DetermineReportingParty" sourceElement="BPMNShape_CallActivity_4" targetElement="BPMNShape_ExclusiveGateway_5">
                <di:waypoint xsi:type="dc:Point" x="1085.0" y="674.0"/>
                <di:waypoint xsi:type="dc:Point" x="1368.0" y="674.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_5" bpmnElement="ExclusiveGateway_5" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="1368.0" y="652.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_26" bpmnElement="SequenceFlow_26" sourceElement="BPMNShape_ExclusiveGateway_5" targetElement="BPMNShape_ExclusiveGateway_13">
                <di:waypoint xsi:type="dc:Point" x="1390.0" y="697.0"/>
                <di:waypoint xsi:type="dc:Point" x="1390.0" y="779.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ScriptTask_2" bpmnElement="ScriptTask_2">
                <dc:Bounds height="56.0" width="169.0" x="1756.0" y="612.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_27" bpmnElement="SequenceFlow_27" sourceElement="BPMNShape_ExclusiveGateway_5" targetElement="BPMNShape_ExclusiveGateway_7">
                <di:waypoint xsi:type="dc:Point" x="1390.0" y="652.0"/>
                <di:waypoint xsi:type="dc:Point" x="1390.0" y="568.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_7" bpmnElement="ExclusiveGateway_7" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="1368.0" y="523.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_28" bpmnElement="SequenceFlow_28" sourceElement="BPMNShape_ExclusiveGateway_7" targetElement="BPMNShape_ExclusiveGateway_3">
                <di:waypoint xsi:type="dc:Point" x="1413.0" y="545.0"/>
                <di:waypoint xsi:type="dc:Point" x="1611.0" y="639.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_8" bpmnElement="ExclusiveGateway_8" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="1815.0" y="159.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_31" bpmnElement="SequenceFlow_31" sourceElement="BPMNShape_ScriptTask_2" targetElement="BPMNShape_ExclusiveGateway_14">
                <di:waypoint xsi:type="dc:Point" x="1840.0" y="612.0"/>
                <di:waypoint xsi:type="dc:Point" x="1840.0" y="568.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_32" bpmnElement="SequenceFlow_32" sourceElement="BPMNShape_ExclusiveGateway_7" targetElement="BPMNShape_ExclusiveGateway_14">
                <di:waypoint xsi:type="dc:Point" x="1413.0" y="545.0"/>
                <di:waypoint xsi:type="dc:Point" x="1818.0" y="545.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_33" bpmnElement="SequenceFlow_33" sourceElement="BPMNShape_ExclusiveGateway_8" targetElement="BPMNShape_ExclusiveGateway_10">
                <di:waypoint xsi:type="dc:Point" x="1860.0" y="181.0"/>
                <di:waypoint xsi:type="dc:Point" x="1979.0" y="181.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_9" bpmnElement="ExclusiveGateway_9" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="1013.0" y="265.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_35" bpmnElement="SequenceFlow_35" sourceElement="BPMNShape_ExclusiveGateway_9" targetElement="BPMNShape_ExclusiveGateway_20">
                <di:waypoint xsi:type="dc:Point" x="1058.0" y="287.0"/>
                <di:waypoint xsi:type="dc:Point" x="1132.0" y="203.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_10" bpmnElement="ExclusiveGateway_10" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="1979.0" y="159.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="BPMNShape_EndEvent_6" bpmnElement="EndEvent_4">
                <dc:Bounds height="45.0" width="45.0" x="1979.0" y="43.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_21" bpmnElement="SequenceFlow_21" sourceElement="BPMNShape_ExclusiveGateway_10" targetElement="BPMNShape_EndEvent_6">
                <di:waypoint xsi:type="dc:Point" x="2001.0" y="159.0"/>
                <di:waypoint xsi:type="dc:Point" x="2001.0" y="88.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_22" bpmnElement="SequenceFlow_22" sourceElement="BPMNShape_ExclusiveGateway_10" targetElement="BPMNShape_ScriptTask_8">
                <di:waypoint xsi:type="dc:Point" x="2024.0" y="181.0"/>
                <di:waypoint xsi:type="dc:Point" x="2286.0" y="180.0"/>
                <di:waypoint xsi:type="dc:Point" x="2286.0" y="349.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ScriptTask_4" bpmnElement="ScriptTask_4">
                <dc:Bounds height="59.0" width="125.0" x="836.0" y="258.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_37" bpmnElement="SequenceFlow_37" sourceElement="BPMNShape_ScriptTask_4" targetElement="BPMNShape_ExclusiveGateway_9">
                <di:waypoint xsi:type="dc:Point" x="961.0" y="287.0"/>
                <di:waypoint xsi:type="dc:Point" x="1013.0" y="287.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_12" bpmnElement="ExclusiveGateway_12" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="1203.0" y="158.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_38" bpmnElement="SequenceFlow_38" sourceElement="BPMNShape_ExclusiveGateway_12" targetElement="BPMNShape_ExclusiveGateway_8">
                <di:waypoint xsi:type="dc:Point" x="1225.0" y="203.0"/>
                <di:waypoint xsi:type="dc:Point" x="1267.0" y="246.0"/>
                <di:waypoint xsi:type="dc:Point" x="1632.0" y="246.0"/>
                <di:waypoint xsi:type="dc:Point" x="1815.0" y="181.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_39" bpmnElement="SequenceFlow_39" sourceElement="BPMNShape_ExclusiveGateway_6" targetElement="BPMNShape_ExclusiveGateway_17">
                <di:waypoint xsi:type="dc:Point" x="725.0" y="486.0"/>
                <di:waypoint xsi:type="dc:Point" x="725.0" y="412.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_18" bpmnElement="SequenceFlow_18" sourceElement="BPMNShape_ExclusiveGateway_12" targetElement="BPMNShape_CallActivity_7">
                <di:waypoint xsi:type="dc:Point" x="1248.0" y="180.0"/>
                <di:waypoint xsi:type="dc:Point" x="1383.0" y="180.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_EndEvent_5" bpmnElement="EndEvent_6">
                <dc:Bounds height="45.0" width="45.0" x="1637.0" y="158.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_com.lombardrisk.reform.dfa.sub.GenerateExceptionNotification" bpmnElement="com.lombardrisk.reform.dfa.sub.GenerateExceptionNotification" sourceElement="BPMNShape_CallActivity_7" targetElement="BPMNShape_EndEvent_5">
                <di:waypoint xsi:type="dc:Point" x="1530.0" y="180.0"/>
                <di:waypoint xsi:type="dc:Point" x="1637.0" y="180.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_41" bpmnElement="SequenceFlow_41" sourceElement="BPMNShape_ExclusiveGateway_9" targetElement="BPMNShape_ExclusiveGateway_8">
                <di:waypoint xsi:type="dc:Point" x="1058.0" y="287.0"/>
                <di:waypoint xsi:type="dc:Point" x="1379.0" y="287.0"/>
                <di:waypoint xsi:type="dc:Point" x="1653.0" y="287.0"/>
                <di:waypoint xsi:type="dc:Point" x="1815.0" y="181.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_9" bpmnElement="com.sequenceFlow" sourceElement="BPMNShape_ExclusiveGateway_4" targetElement="BPMNShape_EndEvent_2">
                <di:waypoint xsi:type="dc:Point" x="2583.0" y="785.0"/>
                <di:waypoint xsi:type="dc:Point" x="2685.0" y="785.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_2" bpmnElement="ExclusiveGateway_2" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="702.0" y="265.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="BPMNShape_ScriptTask_1" bpmnElement="ScriptTask_1">
                <dc:Bounds height="56.0" width="154.0" x="647.0" y="59.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_6" bpmnElement="SequenceFlow_6" sourceElement="BPMNShape_ExclusiveGateway_2" targetElement="BPMNShape_ScriptTask_1">
                <di:waypoint xsi:type="dc:Point" x="724.0" y="265.0"/>
                <di:waypoint xsi:type="dc:Point" x="724.0" y="115.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_CallActivity_1" bpmnElement="CallActivity_1" isExpanded="true">
                <dc:Bounds height="62.0" width="170.0" x="1351.0" y="56.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_7" bpmnElement="SequenceFlow_7" sourceElement="BPMNShape_ScriptTask_1" targetElement="BPMNShape_ExclusiveGateway_18">
                <di:waypoint xsi:type="dc:Point" x="801.0" y="87.0"/>
                <di:waypoint xsi:type="dc:Point" x="1011.0" y="86.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_8" bpmnElement="SequenceFlow_8" sourceElement="BPMNShape_CallActivity_1" targetElement="BPMNShape_ExclusiveGateway_8">
                <di:waypoint xsi:type="dc:Point" x="1521.0" y="87.0"/>
                <di:waypoint xsi:type="dc:Point" x="1837.0" y="87.0"/>
                <di:waypoint xsi:type="dc:Point" x="1837.0" y="159.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_10" bpmnElement="SequenceFlow_9" sourceElement="BPMNShape_ExclusiveGateway_2" targetElement="BPMNShape_ScriptTask_4">
                <di:waypoint xsi:type="dc:Point" x="747.0" y="287.0"/>
                <di:waypoint xsi:type="dc:Point" x="829.0" y="287.0"/>
                <di:waypoint xsi:type="dc:Point" x="836.0" y="287.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_3" bpmnElement="ExclusiveGateway_3" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="1611.0" y="617.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="BPMNShape_ScriptTask_5" bpmnElement="ScriptTask_5">
                <dc:Bounds height="56.0" width="134.0" x="1567.0" y="716.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="BPMNShape_ScriptTask_6" bpmnElement="ScriptTask_6">
                <dc:Bounds height="56.0" width="134.0" x="1770.0" y="716.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_11" bpmnElement="SequenceFlow_10" sourceElement="BPMNShape_ExclusiveGateway_3" targetElement="BPMNShape_ScriptTask_2">
                <di:waypoint xsi:type="dc:Point" x="1656.0" y="639.0"/>
                <di:waypoint xsi:type="dc:Point" x="1756.0" y="640.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_12" bpmnElement="SequenceFlow_11" sourceElement="BPMNShape_ExclusiveGateway_3" targetElement="BPMNShape_ScriptTask_5">
                <di:waypoint xsi:type="dc:Point" x="1633.0" y="662.0"/>
                <di:waypoint xsi:type="dc:Point" x="1634.0" y="716.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_13" bpmnElement="SequenceFlow_12" sourceElement="BPMNShape_ScriptTask_5" targetElement="BPMNShape_ScriptTask_6">
                <di:waypoint xsi:type="dc:Point" x="1701.0" y="744.0"/>
                <di:waypoint xsi:type="dc:Point" x="1770.0" y="744.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_CallActivity_2" bpmnElement="CallActivity_2" isExpanded="true">
                <dc:Bounds height="56.0" width="134.0" x="1964.0" y="716.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_14" bpmnElement="SequenceFlow_13" sourceElement="BPMNShape_ScriptTask_6" targetElement="BPMNShape_CallActivity_2">
                <di:waypoint xsi:type="dc:Point" x="1904.0" y="744.0"/>
                <di:waypoint xsi:type="dc:Point" x="1964.0" y="744.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_15" bpmnElement="SequenceFlow_14" sourceElement="BPMNShape_CallActivity_2" targetElement="BPMNShape_ExclusiveGateway_14">
                <di:waypoint xsi:type="dc:Point" x="2031.0" y="716.0"/>
                <di:waypoint xsi:type="dc:Point" x="2031.0" y="545.0"/>
                <di:waypoint xsi:type="dc:Point" x="1863.0" y="545.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ScriptTask_3" bpmnElement="ScriptTask_3">
                <dc:Bounds height="56.0" width="134.0" x="2493.0" y="515.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_16" bpmnElement="SequenceFlow_15" sourceElement="BPMNShape_ExclusiveGateway_11" targetElement="BPMNShape_CallActivity_3">
                <di:waypoint xsi:type="dc:Point" x="2286.0" y="565.0"/>
                <di:waypoint xsi:type="dc:Point" x="2286.0" y="649.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_4" bpmnElement="ExclusiveGateway_4" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="2538.0" y="763.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_11" bpmnElement="ExclusiveGateway_11" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="2264.0" y="520.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_25" bpmnElement="SequenceFlow_20" sourceElement="BPMNShape_ExclusiveGateway_4" targetElement="BPMNShape_ScriptTask_3">
                <di:waypoint xsi:type="dc:Point" x="2560.0" y="763.0"/>
                <di:waypoint xsi:type="dc:Point" x="2560.0" y="571.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_29" bpmnElement="SequenceFlow_25" sourceElement="BPMNShape_ScriptTask_3" targetElement="BPMNShape_ExclusiveGateway_11">
                <di:waypoint xsi:type="dc:Point" x="2493.0" y="543.0"/>
                <di:waypoint xsi:type="dc:Point" x="2309.0" y="542.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ScriptTask_8" bpmnElement="ScriptTask_8">
                <dc:Bounds height="56.0" width="134.0" x="2219.0" y="349.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_com.lombardrisk.reform.dfa.sub.SendReportingPartyNotification" bpmnElement="SequenceFlow_29" sourceElement="BPMNShape_ScriptTask_8" targetElement="BPMNShape_ExclusiveGateway_11">
                <di:waypoint xsi:type="dc:Point" x="2286.0" y="405.0"/>
                <di:waypoint xsi:type="dc:Point" x="2286.0" y="520.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ScriptTask_9" bpmnElement="ScriptTask_9">
                <dc:Bounds height="43.0" width="122.0" x="303.0" y="204.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_20" bpmnElement="SequenceFlow_16" sourceElement="BPMNShape_Task_1" targetElement="BPMNShape_ScriptTask_9">
                <di:waypoint xsi:type="dc:Point" x="285.0" y="131.0"/>
                <di:waypoint xsi:type="dc:Point" x="364.0" y="131.0"/>
                <di:waypoint xsi:type="dc:Point" x="364.0" y="204.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_CallActivity_6" bpmnElement="CallActivity_6" isExpanded="true">
                <dc:Bounds height="56.0" width="192.0" x="1294.0" y="886.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_13" bpmnElement="ExclusiveGateway_13" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="1368.0" y="779.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_30" bpmnElement="SequenceFlow_19" sourceElement="BPMNShape_ExclusiveGateway_13" targetElement="BPMNShape_CallActivity_6">
                <di:waypoint xsi:type="dc:Point" x="1390.0" y="824.0"/>
                <di:waypoint xsi:type="dc:Point" x="1390.0" y="886.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_EndEvent_3" bpmnElement="EndEvent_1">
                <dc:Bounds height="45.0" width="45.0" x="1110.0" y="1267.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_34" bpmnElement="SequenceFlow_30" sourceElement="BPMNShape_ExclusiveGateway_13" targetElement="BPMNShape_ExclusiveGateway_24">
                <di:waypoint xsi:type="dc:Point" x="1368.0" y="801.0"/>
                <di:waypoint xsi:type="dc:Point" x="1133.0" y="801.0"/>
                <di:waypoint xsi:type="dc:Point" x="1133.0" y="891.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_14" bpmnElement="ExclusiveGateway_14" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="1818.0" y="523.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_15" bpmnElement="ExclusiveGateway_15" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="1817.0" y="432.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_42" bpmnElement="SequenceFlow_34" sourceElement="BPMNShape_ExclusiveGateway_14" targetElement="BPMNShape_ExclusiveGateway_15">
                <di:waypoint xsi:type="dc:Point" x="1840.0" y="523.0"/>
                <di:waypoint xsi:type="dc:Point" x="1839.0" y="477.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_CallActivity_5" bpmnElement="CallActivity_5" isExpanded="true">
                <dc:Bounds height="51.0" width="147.0" x="1626.0" y="366.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_43" bpmnElement="SequenceFlow_36" sourceElement="BPMNShape_ExclusiveGateway_15" targetElement="BPMNShape_CallActivity_5">
                <di:waypoint xsi:type="dc:Point" x="1817.0" y="454.0"/>
                <di:waypoint xsi:type="dc:Point" x="1698.0" y="454.0"/>
                <di:waypoint xsi:type="dc:Point" x="1699.0" y="417.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_44" bpmnElement="SequenceFlow_42" sourceElement="BPMNShape_ExclusiveGateway_15" targetElement="BPMNShape_ExclusiveGateway_25">
                <di:waypoint xsi:type="dc:Point" x="1862.0" y="454.0"/>
                <di:waypoint xsi:type="dc:Point" x="1922.0" y="412.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_com.lombardrisk.reform.dfa.sub.GenerateAndSendReport" bpmnElement="SequenceFlow_43" sourceElement="BPMNShape_CallActivity_5" targetElement="BPMNShape_ExclusiveGateway_25">
                <di:waypoint xsi:type="dc:Point" x="1773.0" y="391.0"/>
                <di:waypoint xsi:type="dc:Point" x="1900.0" y="389.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_CallActivity_7" bpmnElement="CallActivity_7" isExpanded="true">
                <dc:Bounds height="51.0" width="147.0" x="1383.0" y="155.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="BPMNShape_Task_4" bpmnElement="Task_4">
                <dc:Bounds height="51.0" width="147.0" x="157.0" y="532.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="BPMNShape_Task_5" bpmnElement="Task_5">
                <dc:Bounds height="51.0" width="147.0" x="2213.0" y="760.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_46" bpmnElement="SequenceFlow_44" sourceElement="BPMNShape_Task_5" targetElement="BPMNShape_ExclusiveGateway_4">
                <di:waypoint xsi:type="dc:Point" x="2360.0" y="785.0"/>
                <di:waypoint xsi:type="dc:Point" x="2538.0" y="785.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_47" bpmnElement="com.lombardrisk.reform.dfa.sub.GenerateAndSendReport" sourceElement="BPMNShape_CallActivity_3" targetElement="BPMNShape_Task_5">
                <di:waypoint xsi:type="dc:Point" x="2286.0" y="699.0"/>
                <di:waypoint xsi:type="dc:Point" x="2286.0" y="760.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_16" bpmnElement="ExclusiveGateway_16" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="387.0" y="487.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_19" bpmnElement="SequenceFlow_45" sourceElement="BPMNShape_ExclusiveGateway_16" targetElement="BPMNShape_ExclusiveGateway_6">
                <di:waypoint xsi:type="dc:Point" x="432.0" y="509.0"/>
                <di:waypoint xsi:type="dc:Point" x="703.0" y="508.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_17" bpmnElement="ExclusiveGateway_17" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="703.0" y="367.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_45" bpmnElement="SequenceFlow_46" sourceElement="BPMNShape_ExclusiveGateway_16" targetElement="BPMNShape_ExclusiveGateway_17">
                <di:waypoint xsi:type="dc:Point" x="409.0" y="487.0"/>
                <di:waypoint xsi:type="dc:Point" x="409.0" y="389.0"/>
                <di:waypoint xsi:type="dc:Point" x="703.0" y="389.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_48" bpmnElement="SequenceFlow_47" sourceElement="BPMNShape_ExclusiveGateway_17" targetElement="BPMNShape_ExclusiveGateway_2">
                <di:waypoint xsi:type="dc:Point" x="725.0" y="367.0"/>
                <di:waypoint xsi:type="dc:Point" x="724.0" y="310.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_18" bpmnElement="ExclusiveGateway_18" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="1011.0" y="64.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_19" bpmnElement="ExclusiveGateway_19" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="1253.0" y="64.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_20" bpmnElement="ExclusiveGateway_20" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="1110.0" y="158.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_49" bpmnElement="SequenceFlow_48" sourceElement="BPMNShape_ExclusiveGateway_18" targetElement="BPMNShape_ExclusiveGateway_19">
                <di:waypoint xsi:type="dc:Point" x="1056.0" y="86.0"/>
                <di:waypoint xsi:type="dc:Point" x="1253.0" y="86.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_50" bpmnElement="SequenceFlow_49" sourceElement="BPMNShape_ExclusiveGateway_19" targetElement="BPMNShape_CallActivity_1">
                <di:waypoint xsi:type="dc:Point" x="1298.0" y="86.0"/>
                <di:waypoint xsi:type="dc:Point" x="1351.0" y="87.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_51" bpmnElement="SequenceFlow_50" sourceElement="BPMNShape_ExclusiveGateway_18" targetElement="BPMNShape_ExclusiveGateway_20">
                <di:waypoint xsi:type="dc:Point" x="1056.0" y="86.0"/>
                <di:waypoint xsi:type="dc:Point" x="1132.0" y="158.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_52" bpmnElement="SequenceFlow_51" sourceElement="BPMNShape_ExclusiveGateway_20" targetElement="BPMNShape_ExclusiveGateway_12">
                <di:waypoint xsi:type="dc:Point" x="1155.0" y="180.0"/>
                <di:waypoint xsi:type="dc:Point" x="1203.0" y="180.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_53" bpmnElement="SequenceFlow_52" sourceElement="BPMNShape_ExclusiveGateway_12" targetElement="BPMNShape_ExclusiveGateway_19">
                <di:waypoint xsi:type="dc:Point" x="1225.0" y="158.0"/>
                <di:waypoint xsi:type="dc:Point" x="1275.0" y="109.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_Task_6" bpmnElement="Task_6">
                <dc:Bounds height="77.0" width="158.0" x="0.0" y="797.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_21" bpmnElement="ExclusiveGateway_21" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="208.0" y="645.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_54" bpmnElement="SequenceFlow_53" sourceElement="BPMNShape_Task_4" targetElement="BPMNShape_ExclusiveGateway_21">
                <di:waypoint xsi:type="dc:Point" x="230.0" y="583.0"/>
                <di:waypoint xsi:type="dc:Point" x="230.0" y="645.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_55" bpmnElement="SequenceFlow_54" sourceElement="BPMNShape_ExclusiveGateway_21" targetElement="BPMNShape_Task_6">
                <di:waypoint xsi:type="dc:Point" x="208.0" y="667.0"/>
                <di:waypoint xsi:type="dc:Point" x="79.0" y="667.0"/>
                <di:waypoint xsi:type="dc:Point" x="79.0" y="797.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_22" bpmnElement="ExclusiveGateway_22" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="208.0" y="813.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_56" bpmnElement="SequenceFlow_55" sourceElement="BPMNShape_Task_6" targetElement="BPMNShape_ExclusiveGateway_22">
                <di:waypoint xsi:type="dc:Point" x="158.0" y="835.0"/>
                <di:waypoint xsi:type="dc:Point" x="208.0" y="835.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_57" bpmnElement="SequenceFlow_56" sourceElement="BPMNShape_ExclusiveGateway_22" targetElement="BPMNShape_Task_3">
                <di:waypoint xsi:type="dc:Point" x="253.0" y="835.0"/>
                <di:waypoint xsi:type="dc:Point" x="348.0" y="836.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_58" bpmnElement="SequenceFlow_57" sourceElement="BPMNShape_ExclusiveGateway_21" targetElement="BPMNShape_ExclusiveGateway_22">
                <di:waypoint xsi:type="dc:Point" x="230.0" y="690.0"/>
                <di:waypoint xsi:type="dc:Point" x="230.0" y="813.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_23" bpmnElement="ExclusiveGateway_23" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="1110.0" y="1011.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_40" bpmnElement="SequenceFlow_40" sourceElement="BPMNShape_CallActivity_6" targetElement="BPMNShape_ExclusiveGateway_24">
                <di:waypoint xsi:type="dc:Point" x="1294.0" y="914.0"/>
                <di:waypoint xsi:type="dc:Point" x="1156.0" y="913.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_63" bpmnElement="SequenceFlow_63" sourceElement="BPMNShape_Task_11" targetElement="BPMNShape_EndEvent_3">
                <di:waypoint xsi:type="dc:Point" x="1133.0" y="1187.0"/>
                <di:waypoint xsi:type="dc:Point" x="1132.0" y="1267.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_Task_11" bpmnElement="Task_11">
                <dc:Bounds height="59.0" width="170.0" x="1048.0" y="1128.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_64" bpmnElement="SequenceFlow_64" sourceElement="BPMNShape_ExclusiveGateway_23" targetElement="BPMNShape_Task_11">
                <di:waypoint xsi:type="dc:Point" x="1132.0" y="1056.0"/>
                <di:waypoint xsi:type="dc:Point" x="1133.0" y="1128.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_CallActivity_8" bpmnElement="CallActivity_8" isExpanded="true">
                <dc:Bounds height="59.0" width="170.0" x="797.0" y="1004.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_69" bpmnElement="SequenceFlow_69" sourceElement="BPMNShape_ExclusiveGateway_23" targetElement="BPMNShape_CallActivity_8">
                <di:waypoint xsi:type="dc:Point" x="1110.0" y="1033.0"/>
                <di:waypoint xsi:type="dc:Point" x="967.0" y="1033.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_24" bpmnElement="ExclusiveGateway_24" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="1111.0" y="891.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_72" bpmnElement="SequenceFlow_72" sourceElement="BPMNShape_ExclusiveGateway_24" targetElement="BPMNShape_ExclusiveGateway_23">
                <di:waypoint xsi:type="dc:Point" x="1133.0" y="936.0"/>
                <di:waypoint xsi:type="dc:Point" x="1132.0" y="1011.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_EndEvent_10" bpmnElement="EndEvent_10">
                <dc:Bounds height="45.0" width="45.0" x="859.0" y="1360.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="BPMNShape_Task_14" bpmnElement="Task_14">
                <dc:Bounds height="62.0" width="170.0" x="797.0" y="1125.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_74" bpmnElement="SequenceFlow_74" sourceElement="BPMNShape_CallActivity_8" targetElement="BPMNShape_Task_14">
                <di:waypoint xsi:type="dc:Point" x="882.0" y="1063.0"/>
                <di:waypoint xsi:type="dc:Point" x="882.0" y="1125.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_Task_7" bpmnElement="Task_7">
                <dc:Bounds height="62.0" width="170.0" x="797.0" y="1247.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_36" bpmnElement="SequenceFlow_58" sourceElement="BPMNShape_Task_14" targetElement="BPMNShape_Task_7">
                <di:waypoint xsi:type="dc:Point" x="882.0" y="1187.0"/>
                <di:waypoint xsi:type="dc:Point" x="882.0" y="1247.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_59" bpmnElement="SequenceFlow_59" sourceElement="BPMNShape_Task_7" targetElement="BPMNShape_EndEvent_10">
                <di:waypoint xsi:type="dc:Point" x="882.0" y="1309.0"/>
                <di:waypoint xsi:type="dc:Point" x="881.0" y="1360.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_25" bpmnElement="ExclusiveGateway_25" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="1900.0" y="367.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="BPMNShape_CallActivity_9" bpmnElement="CallActivity_9" isExpanded="true">
                <dc:Bounds height="62.0" width="170.0" x="1995.0" y="358.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_62" bpmnElement="SequenceFlow_62" sourceElement="BPMNShape_ExclusiveGateway_25" targetElement="BPMNShape_CallActivity_9">
                <di:waypoint xsi:type="dc:Point" x="1945.0" y="389.0"/>
                <di:waypoint xsi:type="dc:Point" x="1995.0" y="389.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_60" bpmnElement="SequenceFlow_60" sourceElement="BPMNShape_CallActivity_9" targetElement="BPMNShape_ExclusiveGateway_8">
                <di:waypoint xsi:type="dc:Point" x="2080.0" y="358.0"/>
                <di:waypoint xsi:type="dc:Point" x="2079.0" y="274.0"/>
                <di:waypoint xsi:type="dc:Point" x="1837.0" y="274.0"/>
                <di:waypoint xsi:type="dc:Point" x="1837.0" y="204.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_26" bpmnElement="ExclusiveGateway_26" isMarkerVisible="true">
                <dc:Bounds height="45.0" width="45.0" x="208.0" y="203.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="BPMNShape_CallActivity_10" bpmnElement="CallActivity_10" isExpanded="true">
                <dc:Bounds height="50.0" width="126.0" x="9.0" y="201.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="BPMNShape_EndEvent_4" bpmnElement="EndEvent_5">
                <dc:Bounds height="45.0" width="45.0" x="49.0" y="366.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_61" bpmnElement="SequenceFlow_61" sourceElement="BPMNShape_ExclusiveGateway_26" targetElement="BPMNShape_CallActivity_10">
                <di:waypoint xsi:type="dc:Point" x="208.0" y="225.0"/>
                <di:waypoint xsi:type="dc:Point" x="135.0" y="226.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_65" bpmnElement="SequenceFlow_65" sourceElement="BPMNShape_CallActivity_10" targetElement="BPMNShape_EndEvent_4">
                <di:waypoint xsi:type="dc:Point" x="72.0" y="251.0"/>
                <di:waypoint xsi:type="dc:Point" x="71.0" y="366.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_66" bpmnElement="SequenceFlow_66" sourceElement="BPMNShape_ExclusiveGateway_26" targetElement="BPMNShape_Task_2">
                <di:waypoint xsi:type="dc:Point" x="230.0" y="248.0"/>
                <di:waypoint xsi:type="dc:Point" x="229.0" y="349.0"/>
            </bpmndi:BPMNEdge>
        </bpmndi:BPMNPlane>
    </bpmndi:BPMNDiagram>
</bpmn2:definitions>